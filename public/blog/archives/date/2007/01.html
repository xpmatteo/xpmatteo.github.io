<!DOCTYPE html>
<html>


<!-- Mirrored from matteo.vaccari.name/blog/archives/date/2007/01 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:21:14 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="initial-scale=1">

<title>Extreme Enthusiasm   &raquo; 2007 &raquo; January</title>

<meta name="generator" content="WordPress 5.1.1" /> <!-- leave this for stats -->

<link rel="stylesheet" href="../../../wp-content/themes/mv2/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Extreme Enthusiasm RSS Feed" href="../../../feed" />
<link rel="pingback" href="../../../xmlrpc.php" />

<link rel='dns-prefetch' href='http://s.w.org/' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/matteo.vaccari.name\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.1"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../../../wp-includes/css/dist/block-library/style.min3c21.css?ver=5.1.1' type='text/css' media='all' />
<link rel='https://api.w.org/' href='../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.1.1" />
</head>
<body>
<div id="page">

<div id="header">
	<h1><a href="../../../../blog">Extreme Enthusiasm</a></h1>
</div>

<div id='maincontent'>
  <div id='main-col'>

		
				<h2 class="pagetitle">Archive for January, 2007</h2>

		
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

				<div class="post">
				<h3 id="post-74"><a href="../../74.html" rel="bookmark" title="Permanent Link to Appunti su <em>Domain-Driven Design</em>, di Eric Evans">Appunti su <em>Domain-Driven Design</em>, di Eric Evans</a></h3>
				<small>Tuesday, January 30th, 2007</small>

				<div class="entry">
					<p>Summary: these are notes I write while reading the <a href="http://domaindrivendesign.org/books/index.html">book by Eric Evans</a>.</p>
<p>Pungolato da Gabriele, ho iniziato a leggere <em><a href="http://domaindrivendesign.org/books/index.html">Domain-Driven Design</a></em>.  Questi sono i miei primi appunti.  </p>
<p><strong>Begin by designing the model.</strong> L&#8217;argomento del libro è la progettazione del software, ovvero il design.  Ci sono autori (come DHH in <a href="http://gettingreal.37signals.com/index.php">Getting Real</a>) che sostengono un metodo di progettazione che parte dall&#8217;interfaccia utente, che viene realizzata come una facciata priva di logica, allo scopo di ottenere feedback dall&#8217;utente.  Questo approccio mi pare più adatto a un tipo di applicazioni dove la logica del dominio sia molto semplice, praticamente implicata da quello che si vede nell&#8217;interfaccia utente; molte applicazioni web ricadono in questa categoria.  Un possibile rischio è l&#8217;<a href="http://www.joelonsoftware.com/articles/fog0000000356.html">effetto iceberg</a>, che fa sì che quanto più raffinato è il mock-up dell&#8217;interfaccia utente, <a href="http://headrush.typepad.com/creating_passionate_users/2006/12/dont_make_the_d.html">tanto più irrilevante sarà il feedback</a> che otteniamo mostrandola agli utenti.</p>
<p>Evans invece suggerisce l&#8217;approccio opposto: inizia a progettare la logica del dominio.  Ottieni feedback dall&#8217;utente tramite discussioni di fronte alla lavagna, con sketch di diagrammi di classi, simulando esempi di uso, e <em>dimostrando un prototipo delle classi di dominio</em>, pilotate da un&#8217;interfaccia utente minimale.</p>
<p><strong>Attack domain complexity, not technological complexity.</strong>  Noi sviluppatori abbiamo una naturale tendenza ad innamorarci della tecnologia; divoriamo libri sull&#8217;ultimo framework alla moda per applicazioni web o per interfacciare gli oggetti con i database.  Ma spesso quello che fa la differenza fra successo e fallimento di un progetto è quanto accuratamente gestisce la complessità inerente del dominio.  Dovendo scegliere fra studiare la spec di EJB 3.0 e un libro sulla teoria degli strumenti finanziari derivati, uno sviluppatore probabilmente preferirà la prima.  Occorre frenare questa tendenza, e fare uno sforzo cosciente per imparare quello che serve del dominio applicativo.</p>
<p><strong>Model rhymes with implementation.</strong>  Non bisogna fermarsi allo stadio di diagrammi UML sulla lavagna, o in documenti Visio/Rose/Che-so-io.  Bisogna costruire un&#8217;implementazione, che segue passo passo il lavoro di analisi del dominio.</p>
<p><strong>Develop a common language.</strong>  Il nostro obiettivo è creare un <em>linguaggio ubiquo</em> per parlare del dominio.  Un linguaggio che sia derivato dal gergo del dominio, distillando i concetti che servono e rendendoli più precisi.  Un linguaggio che sia usato a tutti i livelli: nelle conversazioni fra sviluppatori e con gli esperti di dominio, nei diagrammi UML, e nei nomi delle classi e dei metodi.</p>
<p><strong>Pattern language</strong>.  A dieci anni di distanza dal <a href="http://en.wikipedia.org/wiki/Design_patterns">libro della Gang of Four</a>, i pattern restano uno dei veicoli migliori per insegnare design.</p>
<p><strong>XP works best when the developers are design buffs.</strong>  L&#8217;assunzione di XP è che tutto il team faccia design in ogni momento.  Ciò è necessario perché in XP non c&#8217;è nessuno che ti fa piovere il design dall&#8217;alto; e se non si fa design, si scade nel code &amp; fix, che è la triste norma nella nostra industria.  Allora in XP è importante che tutti imparino il più possibile sul design.  Fowler in <a href="http://www.martinfowler.com/books.html#eaa">PEAA</a> parla dell&#8217;importanza di creare un Domain Model (uno dei suoi pattern preferiti.)  Ma non spiega come!  Si limita a dire che in un Domain Model uno può sbizzarrirsi a fare design object-oriented.  Il libro di Evans invece parla <em>solo</em> di come realizzare il domain model.</p>
<p><strong>Domain modelling is not just &#8220;find the nouns.&#8221;</strong>  I sostantivi corrispondono a classi del dominio; ma sono altrettanto importanti le regole del dominio, e le attività che vengono svolte.</p>
<p><strong>Accelerate development.</strong>  L&#8217;obiettivo è arrivare a un punto in cui <em>powerful new features unfold as corollaries to older features</em>.  Il buon design serve a questo, non a soddisfare un astratto desiderio di &#8220;fare ingegneria.&#8221;</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../category/agile.html" rel="category tag">Agile</a> |   <a href="../../74.html#comments">3 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-73"><a href="../../73.html" rel="bookmark" title="Permanent Link to Proposta Tesi di Laurea interna: http chat server in Erlang">Proposta Tesi di Laurea interna: http chat server in Erlang</a></h3>
				<small>Thursday, January 25th, 2007</small>

				<div class="entry">
					<p>Summary: I&#8217;m looking for a student to pick up the task of writing an http chat server in Erlang</p>
<p>I linguaggio di programmazione Erlang è una rara bestia &#8212; deriva dai linguaggi di programmazione cari agli informatici teorici, come Lisp e Prolog, e li cala in un contesto industriale con un&#8217;implementazione di tutto rispetto.  </p>
<p><a href="http://www.erlang.org/white_paper.html">Erlang</a> nasce da una ricerca in Ericsson di un linguaggio di programmazione alternativo al C per sviluppare le centrali telefoniche.  Intorno al 1982 Ericsson ha condotto esperimenti con una ventina di diversi linguaggi di programmazione.  Gli esperimenti dimostrarono che i linguaggi che fornivano una maggiore produttività in quest&#8217;ambito applicativo erano i linguaggi simbolici di alto livello, come Lisp e Prolog.  Un fatto curioso emerso da queste ricerche fu che il numero di errori in un programma risultò proporzionale al numero di linee di codice, a parità di funzionalità implementata.  Questo implicava la ricerca di un linguaggio che fosse molto più conciso del C.</p>
<p>Il contesto applicativo di Ericsson, ovvero il software che permette a Tizio di telefonare a Caio, richiede però alcune caratteristiche addizionali che questi linguaggi simbolici non avevano: la gestione della concorrenza, la possibilità di contenere l&#8217;impatto degli inevitabili errori di programmazione, la scalabilità, la fault tolerance, il soft real-time.</p>
<p>Questa ricerca condusse quindi all&#8217;invenzione di un linguaggio ad hoc.  Ora, un linguaggio di programmazione vive o muore sulla base della qualità della sua implementazione.  E il linguaggio Erlang ha un interprete che permette di realizzare applicazione massicciamente concorrenti (si pensi a quante telefoni comunicano contemporaneamente con una centrale telefonica), con la possibilità di aggiornare il codice a caldo (un po&#8217; come la possibilità di cambiare i dischi in un server senza spegnerlo, solo che qui si tratta di software.)  Erlang gestisce la concorrenza con un modello ad attori che è più semplice per il programmatore del meccanismo basato su stato condiviso e semafori.  Erlang ha un database transazionale integrato, che può essere distribuito in maniera trasparente su più nodi per fault tolerance e scalabilità.  C&#8217;è uno <a href="http://www.sics.se/~joe/apachevsyaws.html">studio</a> che dimostra che un web server implementato in Erlang ha una capacità di sopportare picchi di carico di almeno un ordine di grandezza maggiore di Apache.</p>
<p>Tutto ciò porta a concludere che Erlang è il candidato ideale per realizzare applicazioni client-server che necessitino della massima scalabilità e affidabilità: ad esempio i mercati telematici.</p>
<p>L&#8217;obiettivo di questa Tesi è di realizzare un progetto pilota di servizio web interattivo push in Erlang.  In una parola, realizziamo un server di &#8220;chat&#8221; tipo <a href="http://lingr.com/">lingr</a> o <a href="http://www.campfirenow.com/">campfire</a>, interamente in Erlang.  Questo coinvolgerà l&#8217;adattamento di Erlang allo stile di programmazione <a href="../../../indexae74.html?p=72">comet</a>.</p>
<p>Questa Tesi è di livello specialistico, ma possiamo vedere di ritagliarne un pezzo più piccolo per una laurea Triennale.  Se sei interessato, mandami un messaggio per prendere appuntamento per parlarne.  E&#8217; preferibile avere un po&#8217; di esperienza con la programmazione in stile funzionale.</p>
<p><strong>Aggiornamento:</strong> i programmatori pragmatici stanno per fare uscire un <a href="http://www.pragmaticprogrammer.com/titles/jaerlang/">libro su Erlang</a>.  Questa è una grande notizia!</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../category/agile.html" rel="category tag">Agile</a> |   <a href="../../73.html#comments">13 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-72"><a href="../../72.html" rel="bookmark" title="Permanent Link to The Comet is coming; or, push is coming back.">The Comet is coming; or, push is coming back.</a></h3>
				<small>Thursday, January 25th, 2007</small>

				<div class="entry">
					<p>Summary: renewed interest in &#8220;push&#8221; applications for the web</p>
<p>Il <a href="http://www.crockford.com/javascript/javascript.html">rinascimento</a> in atto di Javascript permette di realizzare applicazioni sempre più sofisticate.  Un pezzo difficile da realizzare però è un meccanismo per mandare informazioni sulla pagina web in maniera asincrona: pensate a una chat che deve aggiornarsi su tanti browser ogni volta che qualcuno, da qualche parte, scrive qualcosa.</p>
<p>Il web non supporta nativamente questo tipo di funzionalità.  La maniera tradizionale di sopperire è il <em>polling</em>, che consiste nel bombardare ripetutamente di richieste il server per vedere se c&#8217;è qualche evento da riferire.  Il problema con il polling è che se la frequenza è troppo elevata, il carico sul server cresce anche quando non c&#8217;è vera attività.  Se la frequenza è troppo bassa, l&#8217;applicazione risponde più lentamente agli eventi.</p>
<p>La maniera di evitare questo compromesso fra latenza e frequenza è di fare un &#8220;polling lungo,&#8221; ovvero tenere in piedi una connessione aperta dal browser al server.  Il server, invece di chiudere la connessione, la tiene aperta e trasmette qualche cosa solo quando c&#8217;è un evento da riferire.  Chiaro che per implementare questo meccanismo occorre un web server configurato in maniera particolare.  </p>
<p>Per inciso, questo tipo di meccanismo non è una novità.  Da parecchi anni esiste la libreria <a href="http://www.pushlets.com/">pushlets</a>.  E in una tipica forma di ingiustizia informatica, il concetto si sta popolarizzando ora sotto il nome di <a href="http://alex.dojotoolkit.org/?p=545">comet</a>.  </p>
<p>Uno dei problemi di comet è che i web server non sono architettati per il tipo di traffico di queste applicazioni push.  Di solito si assume che le connessioni al web server abbiano vita breve; in questo caso abbiamo invece un numero di connessioni che restano aperte pari al numero di client.  Un web server di solito usa un algoritmo per cui per ogni connessione viene allocato un thread o un processo; ma questo meccanismo diventa troppo costoso in ambiente comet.  </p>
<p>Il web server <a href="http://jetty.mortbay.org/">Jetty</a> usa un&#8217;architettura più furba, basata su continuations, per cui quando una connessione comet è inattiva non ha associato nessun thread.  I thread vengono pescati da un pool solo quando ci sono dati da trasmettere su una connessione, e subito dopo vengono restituiti al pool.  Questo permette di gestire un numero di connessioni molto maggiore del numero di thread.</p>
<p>Su questa base Jetty fornisce non uno ma due meccanismi per realizzare un server push; il primo si basa su un tradizionale <a href="http://www.activemq.org/site/home.html">ActiveMQ</a>, che è una tecnologia matura e ben integrata con Java tramite il protocollo <a href="http://java.sun.com/products/jms/">JMS</a>.  Il secondo è un meccanismo più semplice, implementato direttamente in Jetty, basato sul protocollo Bayeux di <a href="http://cometd.com/">Cometd</a>.  Mentre ActiveMQ fornisce tutte le garanzie di transazionalità di JMS, Cometd è più semplice, non richiedendo un processo addizionale.</p>
<p>Ci sono almeno <a href="http://mochikit.com/">due</a> <a href="http://dojotoolkit.org/">librerie</a> Javascript che forniscono l&#8217;interfaccia lato client per comet.  E uno sviluppo interessante è integrare <a href="http://rubyonrails.org/">Rails</a> con comet.  E&#8217; possibile, e quelli di <a href="http://www.lingr.com/">lingr</a> l&#8217;<a href="http://blog.lingr.com/2006/09/backend_changes.html">hanno fatto</a>.  </p>
				</div>

				<p class="postmetadata">Posted in <a href="../../category/agile.html" rel="category tag">Agile</a> |   <a href="../../72.html#comments">1 Comment &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-71"><a href="../../71.html" rel="bookmark" title="Permanent Link to Talk su Test-driven development">Talk su Test-driven development</a></h3>
				<small>Monday, January 22nd, 2007</small>

				<div class="entry">
					<p>Summary: report of my test-driven development talk at the friday afternoon club of the Milano University C.S. Dept.</p>
<p>Venerdì 19 scorso ho parlato di test-driven development ai vecchi amici della scuola di dottorato in informatica, in via Comelico a Milano.  Loro hanno questa simpatica abitudine di fare <a href="http://www.sl-lab.it/dokuwiki/doku.php?id=unixpowertools:home">seminari informali</a> al venerdì pomeriggio, e mi hanno gentilmente invitato.  Ho modificato la mia presentazione standard; ho inserito del materiale introduttivo da &#8220;A metric leading to agility&#8221; di Ron Jeffries, soprattutto prendendo spunto dalla <a href="http://www.infoq.com/interviews/jeffries-running-tested-features">bella intervista</a> che hanno pubblicato su InfoQ.  </p>
<p>Di solito come demo uso il <a href="http://butunclebob.com/ArticleS.UncleBob.TheBowlingGameKata">kata del bowling</a> di Robert Martin; questa volta, per cambiare, ho presentato il <a href="http://blogs.pragprog.com/cgi-bin/pragdave.cgi/Practices/Kata/KataNine.rdoc">kata del supermercato</a> di Dave Thomas.  In Ruby, perché lo trovo più divertente, oltre che conciso.</p>
<p>Devo dire che gli astanti hanno colto subito il punto della cosa, che sarebbe l&#8217;idea di fare design durante e non prima.  Lo dimostra il fatto che mi hanno fatto numerose obiezioni&#8230; La più interessante è stata quella di Andrea, che obietta che lui fa design prima, e riesce ad evitare i problemi di over-design, design eccessivamente anticipatorio, e design semplicemente errato perché, lui dice, è bravo e non fa di questi errori.  </p>
<p>Sono il primo a sostenere che la prima cosa che fa la differenza in un progetto è la qualità delle persone; sono perfettamente convinto che un team di waterfallisti capaci possano dare la birra a un gruppo di XPer inesperti (vedi per esempio la copertina di Boehm, Software Engineering Economics.)  Detto questo&#8230;  l&#8217;approccio &#8220;sono bravo quindi non sbaglio&#8221; è rischioso.  Tanto per cominciare, come fai a trasmettere questa tua bravura agli altri?  Come fai a lavorare in team?  Essere l&#8217;elemento trainante stufa dopo un po&#8217;.  Significa che fai la gran parte del lavoro e non riesci a distribuirlo.  Mentre tu ti stai impegnando per il tuo ottimo design, gli altri che fanno?  </p>
<p>Non mi piace questo approccio direttivo.  Io faccio il design, gli altri lo eseguono; mi pare che l&#8217;unico risultato possa essere di allevare un team di mediocri.  Io vorrei che il design fosse una cosa condivisa da tutti i membri del team.  Quando il design piomba dall&#8217;alto, chi lo deve eseguire lo subisce.  Magari nel tuo team c&#8217;è uno veramente in gamba che vorrebbe fare in maniera diversa; ma non può, perché è costretto a fare come dice il design che gli è piombato dall&#8217;alto.  Il risultato è che presto o tardi questo elemento in gamba se ne va altrove!  E&#8217; dura ammettere che quello che vuoi fare tu si possa fare funzionare anche in un&#8217;altra maniera.  Ma è necessario se si vuole fare un team.</p>
<p>E il tuo cliente, comunque, non potrà toccare con mano la tua bravura fino a quando non avrai finito il tuo design e il team non potrà cominciare a implementare.  </p>
<p>Resto convinto che il design evolutivo sia la maniera più efficace di fare design.</p>
<p>(<a href="../../../../files/20070119-tdd-tgif.html">Slide della presentazione</a>)</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../category/agile.html" rel="category tag">Agile</a> |   <a href="../../71.html#comments">1 Comment &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-70"><a href="../../70.html" rel="bookmark" title="Permanent Link to Il potere degli esempi">Il potere degli esempi</a></h3>
				<small>Sunday, January 7th, 2007</small>

				<div class="entry">
					<p>Summary: executable acceptance tests are an <em>essential</em> part of any software specification.  Even the use of formal specifications in the form of mathematical formulae does not eliminate the need for executable acceptance tests.</p>
<blockquote><p>
  Example isn&#8217;t another way to teach, it is the only way to teach</p>
<p class="attrib">&mdash; attribuito ad Albert Einstein</p>
</blockquote>
<p>Ci sono essenzialmente due maniere di scrivere una specifica per un programma: in linguaggio naturale, oppure usando un linguaggio formale.  La tesi di questo articolo è che né l&#8217;uno né l&#8217;altro stile sono efficaci se non sono accompagnati da esempi.  Anzi, è molto più fruttuoso pensare a una specifica come un insieme di esempi, corroborati da una descrizione in linguaggio naturale e/o formale.</p>
<p>Ci sono alcuni problemi che sono molto facili da specificare in linguaggio naturale; ad esempio &#8220;sostituisci ogni sequenza di due o più lettere uguali con una sola lettera&#8221;.  Eppure non siamo sicuri di avere capito che cosa si intende fino a quando non abbiamo visto almeno un paio di esempi:</p>
<pre>
 "abc" -> "abc"
 "aaaabbcccccd" -> "abcd"
</pre>
<p>Solo ora possiamo essere <em>sicuri</em> di avere capito che cosa intendeva la specifica.  E&#8217; vero che la specifica originale era ambigua; ad esempio non specificava cosa succede per le sequenze di una sola lettera, e neppure diceva <em>quale lettera</em> deve essere sostituita al posto della sequenza; e si potrebbe continuare.  Potremmo allora rendere la specifica in linguaggio naturale più precisa, specificando in maggiore dettaglio che cosa deve succedere in tutti i casi.  Probabilmente la specifica diventerebbe dieci volte più lunga.  Prova!  Il risultato sarà senz&#8217;altro più preciso; ma sarà anche <em>più chiaro?</em>   Probabilmente no; la specifica più diventa lunga e dettagliata e più diventa difficile da capire.  In ogni caso saremo costretti a verificare se la nostra comprensione della specifica è corretta andando a vedere gli esempi.</p>
<p>E qui ti racconto un piccolo sporco segreto di noi programmatori: quando riceviamo un tomo di specifica di qualche centinaio di pagine, andiamo a vedere <strong>solo</strong> gli esempi.  Se ci sono dei disegni che mostrano l&#8217;interfaccia utente, andiamo a vedere subito i disegni, ignorando il testo che li accompagna.  Perché?  Perché normalmente le specifiche in linguaggio naturale, nell&#8217;intento di essere <em>precise</em>, sono verbose e noiose, ma soprattutto sono poco chiare.  Comunicano poco.  Niente comunica in maniera efficace come un esempio.</p>
<p>Il nostro spirito scientifico-ingegneristico si ribella allora a questa situazione di pressapochismo.  Giustamente cerchiamo una maniera più precisa e meno ambigua di specificare un software che, oltre a tutto, è di norma oggetto di obblighi contrattuali.  Come potremmo specificare formalmente, allora, il problema di cui sopra?</p>
<p>Una maniera è scrivere una formula matematica.  Però mi risulta difficile immaginare quale, per questo specifico esempio.  Provo:</p>
<p>  Sia * l&#8217;operatore che prende due lettere uguali adiacenti in una stringa e le sostituisce con una delle due;<br />
  sia P l&#8217;operatore che prende un operatore e lo applica a una stringa fino a quando è possibile.  Allora la nostra funzione f è specificata da   </p>
<pre>
   f = P*
</pre>
<p>Ummmm&#8230;. non molto chiaro vero?  Provo in un&#8217;altra maniera.  Definiamo il significato di &#8220;comprimere le sequenze&#8221; con una funzione definita ricorsivamente:</p>
<pre>  
   f [] = []     -- trasformo la stringa vuota in stringa vuota
   f [a] = [a]   -- e il singleton in singleton
   f ([a,a] + x) = f([a] + x)  
                 -- se la stringa inizia con due caratteri 
                 -- uguali, ne tolgo uno
   f ([a,b] + x) = [a] + f([b] + x)  if a != b
                 -- se la stringa inizia con due caratteri 
                 -- diversi, tengo il primo e continuo

</pre>
<p>Personalmente mi piace questa definizione.  E&#8217; chiara e precisa, e anche ragionevolmente concisa.  Ma è un programma.  E non è immediatamente evidente che corrisponda alla mia idea di cosa significa &#8220;comprimere le sequenze&#8221;.  L&#8217;unica maniera di essere sicuro è testare questa specifica su esempi!  E si noti che sto proponendo questa formulazione come <em>la specifica</em> del problema.  Perché è la specifica formale più chiara che sono riuscito a scrivere.  Quindi non posso verificare che questa definizione corrisponda a una qualche specifica, perché è questa stessa la specifica.  Potrei verificare se questa definizione ricorsiva corrisponde a <em>un&#8217;altra</em> definizione matematica, ma allora avrei sempre il problema di capire se quest&#8217;altra ipotetica specifica è a sua volta corretta.  E potrei farlo solo <em>testandola su esempi</em>!</p>
<p>Ora, Dijkstra sicuramente mi direbbe che </p>
<blockquote><p>
Program testing can be used to show the presence of bugs, but never to show their absence!</p>
<p class='attrib'>&mdash; <a href="http://www.cs.utexas.edu/users/EWD/ewd02xx/EWD249.PDF">E.W. Dijkstra</a></p>
</blockquote>
<p>Però Dijkstra, per quanto ho letto o sentito dalle sue labbra, sorvolava sul problema di come ottenere una specifica corretta.  Lui dava per scontato che sia sempre possibile scrivere una specifica formale che sia sufficientemente chiara da essere evidentemente corretta.  Io invece sostengo che questa cosa non è facile, e probabilmente non è possibile in pratica nella maggior parte dei casi.  A meno di lavorare in domini molto particolari che beneficiano di migliaia di anni di raffinamento come, ad esempio, i programmi che fanno calcoli matematici.  Sicuramente nel software di tipo gestionale, la cosa più difficile è catturare specifiche corrette.  Ma soprattutto, una specifica formale <em>difficilmente può essere capita dal cliente</em>; non così gli esempi, che possono essere verificati, anzi, dettati dal cliente stesso.</p>
<p>E qui entra il discorso dei test di accettazione automatici.  Nei metodi agili vengono spesso detti <em>customer tests</em>, perché vengono scritti con o addirittura dal cliente.  Sono <em>esempi</em> di come deve comportarsi il software, espressi nel linguaggio di business del cliente e non nel linguaggio tecnico dello sviluppatore.  Lo scopo dei customer test non è tanto di verificare che il software sia stato realizzato correttamente; anche questo, senz&#8217;altro, ma il punto fondamentale è verificare che il software che realizziamo sia il software che veramente il cliente vuole.  </p>
<p>Quando si inizia l&#8217;intervista per raccogliere i requisiti per un nuovo progetto, il cliente di solito ce ne dà fin troppi.  Per esempio, il problema di calcolare la tariffa di un noleggio auto è senz&#8217;altro complicato: dipende dal modello dell&#8217;auto, dal chilometraggio, dall&#8217;età del guidatore, dall&#8217;ora di prelevamento e di consegna, distinguendo fra tariffa notturna e diurna; e da chissà quanti altri dettagli.  L&#8217;unica maniera di essere sicuri di avere afferrato correttamente le specifiche del nostro cliente è di sottoporgli degli esempi concreti.  <em>Dunque, se ho capito correttamente, un guidatore di 30 anni prende una Sedici lunedì mattina alle 10:00 e la restituisce martedì alle 18:00 con il serbatio pieno.  Allora si applica la tariffa standard per 1 giorno + 8 ore?</em>  E il cliente stesso a questo punto ci dirà se abbiamo capito.  Il cliente <em>debugga</em> la comprensione della specifica da parte dello sviluppatore.  </p>
<p>Un team agile catturerà questi esempi in test che siano sia eseguibili che comprensibili dal cliente.  Spesso si usano strumenti come <a href="http://www.fitnesse.org/">Fitnesse</a> per catturare le specifiche in tabelle HTML come questa:</p>
<table border="1" cellspacing="0">
<tr>
<td colspan="3">eg.Division</td>
</tr>
<tr>
<td>numerator</td>
<td>denominator</td>
<td>quotient?</td>
</tr>
<tr>
<td>10</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>12.6</td>
<td>3</td>
<td>4.2</td>
</tr>
<tr>
<td>100</td>
<td>4</td>
<td>24</td>
</tr>
</table>
<p>Il cliente può così non solo verificare che il team ha capito di cosa si sta parlando; può chiarificare a sè stesso quali siano i requisiti; e può verificare egli stesso, eseguendo il test, che il software consegnato si comporti correttamente sugli esempi:</p>
<table border="1" cellspacing="0">
<tr>
<td colspan="3">eg.Division</td>
</tr>
<tr>
<td>numerator</td>
<td>denominator</td>
<td>quotient?</td>
</tr>
<tr>
<td>10</td>
<td>2</td>
<td style="background-color: #AAFFAA;">5</td>
</tr>
<tr>
<td>12.6</td>
<td>3</td>
<td style="background-color: #AAFFAA;">4.2</td>
</tr>
<tr>
<td>100</td>
<td>4</td>
<td style="background-color: #FFAAAA;">24 <span style="font-style: italic; color: #C08080;">expected</span></p>
<hr>25.0 <span style="font-style: italic; color: #C08080;">actual</span></td>
</tr>
</table>
<p>Dunque gli esempi eseguibili hanno un pubblico molteplice:</p>
<ol>
<li>il cliente che li può leggere e anche scrivere</li>
<li>gli sviluppatori, che li prendono come specifica;</li>
<li>il software da sviluppare, che da essi viene testato;</li>
<li>e da ultimo, purtroppo, vanno menzionati anche il giudice, il CTU e i CTP che, nel malaugurato caso di una lite, avranno una molto migliore probabilità di capire che cosa si suppone che il sistema faccia.  </li>
</ol>
<p>Anche se la presenza di una specifica ben scritta (cioè basata su esempi) rende meno probabile l&#8217;eventualità di una lite.  Nel nostro mestiere il più delle liti sorge su questioni del tipo &#8220;intendevo che mi sviluppaste questo&#8221;, &#8220;no, non era questo che avevi detto!&#8221;.  Sviluppare la specifica di concerto per mezzo di esempi serve anche a scongiurare esiti di questo tipo.</p>
<p>La mia conclusione è che la maniera tradizionale di presentare le specifiche come &#8220;testo eventualmente accompagnato da esempi&#8221; oppure &#8220;formule matematiche eventualmente corredate da esempi&#8221; debba essere scaravoltata.  </p>
<p class="ahem">Gli esempi sono la parte più importante della specifica.</p>
<p>  Corredarli con testo esplicativo oppure un modello formale può essere utile; ma dovendo buttare via qualcosa, gli esempi sono <em>l&#8217;ultima</em> cosa a cui rinunciare.</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../category/agile.html" rel="category tag">Agile</a> |   <a href="../../70.html#comments">2 Comments &#187;</a></p>
		</div>

		
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

	  	</div>

  <div id='right-col'>
        <div id="sidebar">
    <ul>

      <li>
        <form method="get" id="searchform" action="http://matteo.vaccari.name/blog/">
  <div>
    <input tabindex="1" type="text" value="" name="s" id="s" />
    <input type="submit" id="searchsubmit" value="Search" />
  </div>
</form>
      </li>

      <li>

        <h2>About</h2>

	I am a software developer working with <a href="http://thoughtworks.com/">Thoughtworks Italia</a>.
        I'm a fan of <a
        href="http://extremeprogramming.org/">Extreme Programming</a>.
        I&nbsp;helped organize the <a
        href="http://essap.dicom.uninsubria.it/">European Summer School on
        Agile Programming</a>

      </li>

      <li>
            <p>You are currently browsing the <a href="../../../index.html">Extreme Enthusiasm</a> weblog archives
      for January, 2007.</p>

            </li>

      <li class="pagenav"><h2>Pages</h2><ul><li class="page_item page-item-851"><a href="../../../selected-tdd-resources-to-start.html">Selected TDD Resources To Start</a></li>
<li class="page_item page-item-583"><a href="../../../tdd-resources.html">TDD Resources</a></li>
<li class="page_item page-item-247"><a href="../../../the-hexagonal-architecture.html">The Hexagonal Architecture</a></li>
</ul></li>

      
      <li><h2>Archives</h2>
        <ul>
        	<li><a href='../2018/10.html'>October 2018</a></li>
	<li><a href='../2017/09.html'>September 2017</a></li>
	<li><a href='../2016/08.html'>August 2016</a></li>
	<li><a href='../2016/03.html'>March 2016</a></li>
	<li><a href='../2016/01.html'>January 2016</a></li>
	<li><a href='../2014/12.html'>December 2014</a></li>
	<li><a href='../2014/10.html'>October 2014</a></li>
	<li><a href='../2014/06.html'>June 2014</a></li>
	<li><a href='../2014/02.html'>February 2014</a></li>
	<li><a href='../2013/12.html'>December 2013</a></li>
	<li><a href='../2013/11.html'>November 2013</a></li>
	<li><a href='../2013/06.html'>June 2013</a></li>
	<li><a href='../2013/05.html'>May 2013</a></li>
	<li><a href='../2013/03.html'>March 2013</a></li>
	<li><a href='../2013/02.html'>February 2013</a></li>
	<li><a href='../2012/10.html'>October 2012</a></li>
	<li><a href='../2012/08.html'>August 2012</a></li>
	<li><a href='../2012/07.html'>July 2012</a></li>
	<li><a href='../2012/06.html'>June 2012</a></li>
	<li><a href='../2012/05.html'>May 2012</a></li>
	<li><a href='../2012/04.html'>April 2012</a></li>
	<li><a href='../2012/01.html'>January 2012</a></li>
	<li><a href='../2011/12.html'>December 2011</a></li>
	<li><a href='../2011/11.html'>November 2011</a></li>
	<li><a href='../2011/10.html'>October 2011</a></li>
	<li><a href='../2011/07.html'>July 2011</a></li>
	<li><a href='../2011/06.html'>June 2011</a></li>
	<li><a href='../2011/05.html'>May 2011</a></li>
	<li><a href='../2011/04.html'>April 2011</a></li>
	<li><a href='../2011/03.html'>March 2011</a></li>
	<li><a href='../2011/02.html'>February 2011</a></li>
	<li><a href='../2010/11.html'>November 2010</a></li>
	<li><a href='../2010/10.html'>October 2010</a></li>
	<li><a href='../2010/09.html'>September 2010</a></li>
	<li><a href='../2010/08.html'>August 2010</a></li>
	<li><a href='../2010/07.html'>July 2010</a></li>
	<li><a href='../2010/06.html'>June 2010</a></li>
	<li><a href='../2010/05.html'>May 2010</a></li>
	<li><a href='../2010/04.html'>April 2010</a></li>
	<li><a href='../2010/03.html'>March 2010</a></li>
	<li><a href='../2010/02.html'>February 2010</a></li>
	<li><a href='../2010/01.html'>January 2010</a></li>
	<li><a href='../2009/12.html'>December 2009</a></li>
	<li><a href='../2009/11.html'>November 2009</a></li>
	<li><a href='../2009/10.html'>October 2009</a></li>
	<li><a href='../2009/09.html'>September 2009</a></li>
	<li><a href='../2009/07.html'>July 2009</a></li>
	<li><a href='../2009/05.html'>May 2009</a></li>
	<li><a href='../2009/04.html'>April 2009</a></li>
	<li><a href='../2009/03.html'>March 2009</a></li>
	<li><a href='../2009/02.html'>February 2009</a></li>
	<li><a href='../2009/01.html'>January 2009</a></li>
	<li><a href='../2008/12.html'>December 2008</a></li>
	<li><a href='../2008/11.html'>November 2008</a></li>
	<li><a href='../2008/10.html'>October 2008</a></li>
	<li><a href='../2008/09.html'>September 2008</a></li>
	<li><a href='../2008/07.html'>July 2008</a></li>
	<li><a href='../2008/06.html'>June 2008</a></li>
	<li><a href='../2008/05.html'>May 2008</a></li>
	<li><a href='../2008/04.html'>April 2008</a></li>
	<li><a href='../2008/01.html'>January 2008</a></li>
	<li><a href='11.html'>November 2007</a></li>
	<li><a href='10.html'>October 2007</a></li>
	<li><a href='09.html'>September 2007</a></li>
	<li><a href='06.html'>June 2007</a></li>
	<li><a href='05.html'>May 2007</a></li>
	<li><a href='04.html'>April 2007</a></li>
	<li><a href='03.html'>March 2007</a></li>
	<li><a href='02.html'>February 2007</a></li>
	<li><a href='01.html'>January 2007</a></li>
	<li><a href='../2006/12.html'>December 2006</a></li>
	<li><a href='../2006/11.html'>November 2006</a></li>
	<li><a href='../2006/10.html'>October 2006</a></li>
	<li><a href='../2006/09.html'>September 2006</a></li>
	<li><a href='../2006/08.html'>August 2006</a></li>
	<li><a href='../2006/07.html'>July 2006</a></li>
	<li><a href='../2006/06.html'>June 2006</a></li>
	<li><a href='../2006/05.html'>May 2006</a></li>
	<li><a href='../2006/04.html'>April 2006</a></li>
	<li><a href='../2006/03.html'>March 2006</a></li>
	<li><a href='../2006/02.html'>February 2006</a></li>
	<li><a href='../2006/01.html'>January 2006</a></li>
        </ul>
      </li>

      <li><h2>Categories</h2>
        <ul>
        	<li class="cat-item cat-item-1"><a href="../../category/agile.html" >Agile</a> (229)
</li>
	<li class="cat-item cat-item-3"><a href="../../category/books.html" >Books</a> (2)
</li>
	<li class="cat-item cat-item-11"><a href="../../category/design-exercise.html" >Design Exercise</a> (5)
</li>
	<li class="cat-item cat-item-6"><a href="../../category/essay.html" >Essay</a> (13)
</li>
	<li class="cat-item cat-item-8"><a href="../../category/expressive-code.html" >Expressive Code</a> (11)
</li>
	<li class="cat-item cat-item-10"><a href="../../category/fundamentals.html" >Fundamentals</a> (6)
</li>
	<li class="cat-item cat-item-9"><a href="../../category/other.html" >other</a> (1)
</li>
        </ul>
      </li>

      
    </ul>
  </div>

    </div>
  </div>
</div>


<hr />
<div id="footer">
<address>
  <script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%22%3e%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%3c%2f%61%3e%27%29%3b'))</script>
</address>
</div>
</div>
  <script type='text/javascript' src='../../../wp-includes/js/wp-embed.min3c21.js?ver=5.1.1'></script>
</body>

<!-- Mirrored from matteo.vaccari.name/blog/archives/date/2007/01 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:21:14 GMT -->
</html>
