<!DOCTYPE html>
<html>


<!-- Mirrored from matteo.vaccari.name/blog/archives/category/agile/page/17 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:32:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="initial-scale=1">

<title>Extreme Enthusiasm   &raquo; Agile</title>

<meta name="generator" content="WordPress 5.1.1" /> <!-- leave this for stats -->

<link rel="stylesheet" href="../../../../wp-content/themes/mv2/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Extreme Enthusiasm RSS Feed" href="../../../../feed" />
<link rel="pingback" href="../../../../xmlrpc.php" />

<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="Extreme Enthusiasm &raquo; Agile Category Feed" href="../feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/matteo.vaccari.name\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.1"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../../../../wp-includes/css/dist/block-library/style.min3c21.css?ver=5.1.1' type='text/css' media='all' />
<link rel='https://api.w.org/' href='../../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.1.1" />
</head>
<body>
<div id="page">

<div id="header">
	<h1><a href="../../../../../blog">Extreme Enthusiasm</a></h1>
</div>

<div id='maincontent'>
  <div id='main-col'>

		
				<h2 class="pagetitle">Archive for the 'Agile' Category</h2>

 	  
		<div class="navigation">
			<div class="alignleft"><a href="18.html" >&laquo; Previous Entries</a></div>
			<div class="alignright"><a href="16.html" >Next Entries &raquo;</a></div>
		</div>

				<div class="post">
				<h3 id="post-83"><a href="../../../83.html" rel="bookmark" title="Permanent Link to Maximum programmer FUN!">Maximum programmer FUN!</a></h3>
				<small>Friday, May 25th, 2007</small>

				<div class="entry">
					<p>Finalmente in edicola il mio articoletto introduttivo a Ruby on Rails su <a href="http://oltrelinux.it/home.php?num_riv=59">Linux &#038; C.</a>!   Chiaro che non c&#8217;è nulla di sconvolgentemente nuovo, ma è conciso e in italiano.  E sono particolarmente contento di pubblicare su Linux &#038; C., perché è un&#8217;ottima rivista.</p>
<p><img src="http://oltrelinux.it/immagini/numero_59/copertina_59.gif" alt="Copertina" /></p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../83.html#comments">3 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-82"><a href="../../../82.html" rel="bookmark" title="Permanent Link to Think first, code later">Think first, code later</a></h3>
				<small>Friday, May 4th, 2007</small>

				<div class="entry">
					<p>Leggo ora una nota di Dijkstra segnalata da un <a href="http://www.eptacom.net/blog/2007/04/metaphors-and-design.html">post</a> di Carlo Pescio: <a href="../../../../../so/files/EWD1303.html">My recollections of operating systems design</a>. Ci sono un paio di cose che mi sembrano molto interessanti.  </p>
<p>Parlando del famoso algoritmo di Dekker, la prima soluzione corretta al problema della mutua esclusione, Dijkstra dice che da parecchio tempo stava sfidando i suoi colleghi perché producessero una soluzione.  Quando la difficoltà di trovare gli errori nelle soluzioni proposte divenne eccessiva, D. cambiò le regole del gioco, richiedendo che insieme all&#8217;algoritmo venisse proposta anche una prova di correttezza.</p>
<blockquote><p>
  And then something profound and lovely happened. By analyzing by what structure of argument the proof obligations could be met, the numerical mathematician Th.J. Dekker designed within a few hours the above solution together with its correctness argument, and this settled the contest.
</p></blockquote>
<p>L&#8217;idea della derivazione di programmi è di fare guidare la soluzione dalla dimostrazione di correttezza.  E&#8217; una cosa analoga (non equivalente! ma certamente analoga) a quello che si fa in TDD, dove si fa guidare la soluzione dai <em>test</em> che dimostrano empiricamente che la soluzione funziona.</p>
<p>Ci sono profonde differenze, è ovvio, fra &#8220;program derivation&#8221; e &#8220;TDD&#8221;.  Ma ci sono anche ovvie analogie: entrambe le tecniche producono programmi molto <strong>concisi</strong> e <strong>corretti</strong>.  Ed entrambe le tecniche sono molto più efficaci del code &amp; fix, che è la maniera più comune di sviluppare.</p>
<p>A questo proposito D. cita un&#8217;episodio divertente:</p>
<blockquote><p>
  When the design of the <a href="../../../../../so/files/dijkstra68.html">THE Multiprogramming System</a> neared its completion, the University&#8217;s EL X8 was getting installed, but it had not been paid yet, and we hardly had access to it because the manufacturer had to put it to the disposal of an American software house that was supposed to write a COBOL implementation for the EL X8. They were program testing all the time, and we let it be known that if occasionally we could have the virgin machine for a few minutes, we would appreciate it. They were nice guys, and a few times per week we would get an opportunity for our next test run. We would enter the machine room with a small roll of punched paper tape, and a few minutes later we would leave the machine room with the output we wanted. I remember it vividly because when they realized what we were achieving, our minimal usage of the machine became more and more frustrating for them. I don&#8217;t think their COBOL implementation was ever completed.
</p></blockquote>
<p>Come riesco a immaginarmeli questi sfortunati programmatori&#8230; Accanirsi nel code &amp; fix non serve se non si ha un&#8217;idea chiara di quello che si sta facendo.  Va detto che nei primi anni &#8217;60 scrivere un compilatore era un&#8217;impresa <strong>un bel po&#8217;</strong> più difficile di oggi.  Non potevano andarsi a comprare il <a href="http://en.wikipedia.org/wiki/Compilers:_Principles%2C_Techniques%2C_and_Tools">Dragon Book</a>, perché non era ancora stato scritto!</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../82.html#comments">4 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-81"><a href="../../../81.html" rel="bookmark" title="Permanent Link to [Insubria] Una applicazione web per tesi">[Insubria] Una applicazione web per tesi</a></h3>
				<small>Thursday, April 19th, 2007</small>

				<div class="entry">
					<p>Segnalo che Federico Gobbo ha una nuova <a href="http://www.dicom.uninsubria.it/~federico.gobbo/tesidilaurea/labels/applicazioni-web.html">proposta di Tesi per Laurea Triennale</a>.  </p>
<p>Sembra divertente.  Ci sarà senz&#8217;altro la possibilità di approfondire tecnologie web agili&#8230;</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../81.html#respond">No Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-79"><a href="../../../79.html" rel="bookmark" title="Permanent Link to Essap: get aboard">Essap: get aboard</a></h3>
				<small>Tuesday, April 3rd, 2007</small>

				<div class="entry">
					<p>Anche quest&#8217;anno faremo la scuola estiva su XP e programmazione agile, la famosa <a href="http://essap.dicom.uninsubria.it/">Essap</a>.  E&#8217; un&#8217;occasione unica per imparare un sacco di cose in una sola settimana.  (E dico unica sul serio: trovate una scuola simile se ci riuscite.  Non ce ne sono, almeno non in Europa.) L&#8217;anno scorso è stata molto istruttiva e anche divertente.  E dalla Essap è nato uno <a href="http://varese-xpug.has.it/">User Group</a> a Varese.  So che per gli studenti è un po&#8217; problematico prendere una settimana in giugno, nel periodo più caldo degli esami.  Però credo di poter promettere che (almeno gli studenti dell&#8217;Insubria) si vedranno riconosciuti alcuni crediti, se seguono con profitto per tutta la settimana.</p>
<p>Come on, be a part of it: <a href="http://essap.dicom.uninsubria.it/pmwiki.php?n=Main.Registration">iscriviti</a>!</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../79.html#comments">2 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-80"><a href="../../../80.html" rel="bookmark" title="Permanent Link to Tesi su Erlang&#8230; le cose si muovono">Tesi su Erlang&#8230; le cose si muovono</a></h3>
				<small>Tuesday, April 3rd, 2007</small>

				<div class="entry">
					<p>La tesi su <a href="../../../../index8cae.html?p=73">Http chat server</a> in <a href="http://www.erlang.org/">Erlang</a> è partita&#8230; sono molto contento.  Pare che diverse cose si stiano muovendo: i Programmatori Pragmatici stanno per pubblicare <a href="http://www.pragmaticprogrammer.com/titles/jaerlang/">un libro su Erlang</a> scritto da <a href="http://www.sics.se/~joe/index.html">Joe Armstrong</a>, che è uno dei principali autori del linguaggio.  Fra l&#8217;altro la tesi di dottorato di Armstrong è molto leggibile (prendete esempio, o studenti!)</p>
<p>Il mio studente mi segnala che esiste un <a href="http://erlyweb.org/">framework per applicazioni web</a> per Erlang, che supporta MVC, e ovviamente <a href="http://yaws.hyber.org/">Yaws</a>, lo scalabilissimo web server in Erlang.  </p>
<p>Who needs Java?</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../80.html#comments">2 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-78"><a href="../../../78.html" rel="bookmark" title="Permanent Link to EL&#038;P e  D&#038;D">EL&#038;P e  D&#038;D</a></h3>
				<small>Tuesday, March 20th, 2007</small>

				<div class="entry">
					<p>Summary: nice post on _why&#8217;s blog</p>
<p>Divertente come sempre, _why <a href="http://redhanded.hobix.com/cult/whatSWrongWithRubyHahYeahItSMe.html#comments">prende in giro</a> un pomposo accademico che critica Ruby e la sua <a href="http://poignantguide.net/ruby/">guida</a>.  Mi è particolarmente piaciuto questo commento di &#8220;forrest&#8221;:</p>
<blockquote><p>
Furthermore, anybody who compares the Poignant Guide to the Head First guides has failed to understand the Poignant Guide altogether. There’s no false jocosity or spoonful of sugar bullcrap to the Poignant Guide. It’s like the Hypnerotomachia Poliphili—it’s a legitimate work of art and literature as well as a programming manual. (It doesn’t talk about how cool Ruby is, really. Does it?)</p>
<p>Man, I don’t know why that kind of response bugs me so much. Maybe it’s because I’ve read a lot of programming lore from the 70s and 80s, when there were a lot more weirdo geek-hippies striding the plains with their 41CXs and Emerson, Lake &#038; Palmer records, playing Dungeons &#038; Dragons and writing arcane articles for the Whole Earth guide when they weren’t cranking out the code.
</p></blockquote>
<p>Sarà che gli ELP e D&#038;D sono due cose che ho molto amato&#8230;</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../78.html#respond">No Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-77"><a href="../../../77.html" rel="bookmark" title="Permanent Link to Ben detto!">Ben detto!</a></h3>
				<small>Saturday, March 3rd, 2007</small>

				<div class="entry">
					<p>Questo articolo &#8220;<a href="http://www.informationweek.com/news/showArticle.jhtml?articleID=196800670">Review: Mac OS X Shines In Comparison With Windows Vista</a>&#8221;  spiega bene una cosa che mi ha sempre dato molto fastidio di Windows.</p>
<blockquote><p>
Mac OS X, it&#8217;s the classic English butler. This OS is designed to make the times you have to interact with it as quick and efficient as possible. It expects that things will work correctly and therefore sees no reason to bother you with correct operation confirmations. If you plug in a mouse, there aren&#8217;t going to be any messages to tell you &#8220;that mouse you plugged in is now working.&#8221; It&#8217;s assumed you&#8217;ll know that because you&#8217;ll be able to instantly use the mouse. Plug in a USB or FireWire hard drive and the disk showing up on your desktop is all the information you need to see that the drive has correctly mounted. It is normally only when things are not working right that you see messages from Mac OS X.</p>
<p>Windows is &#8230; well, Windows is very eager to tell you what&#8217;s going on. Constantly. Plug something in and you get a message. Unplug something and you get a message. If you&#8217;re on a network that&#8217;s having problems staying up, you&#8217;ll get tons of messages telling you this. It&#8217;s rather like dealing with an overexcited Boy Scout &#8230; who has a lifetime supply of chocolate-covered espresso beans. This gets particularly bad when you factor in things like the user-level implementation of Microsoft&#8217;s new security features.</p>
<p>To put it simply, you can work on a Mac for hours, days even, and only minimally need to directly use the OS. With Vista? The OS demands your attention, constantly.
</p></blockquote>
<p>E&#8217; un&#8217;istanza di un tema generale: Windows tratta i suoi utenti come sudditi.  &#8220;<em>Tieni questi aggiornamenti, e sarà meglio che li installi subito!</em>&#8221;  Sono <em>così</em> contento di non doverlo usare quasi mai.</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../77.html#comments">4 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-76"><a href="../../../76.html" rel="bookmark" title="Permanent Link to Soluzione esame scritto di Applicazioni Web, febbraio 2007">Soluzione esame scritto di Applicazioni Web, febbraio 2007</a></h3>
				<small>Wednesday, February 28th, 2007</small>

				<div class="entry">
					<p>Summary: solutions and rants about my Web Applications course last exam</p>
<p>Parziale soluzione dell&#8217;elaborato di Applicazioni Web di febbraio 2007.  Lo posto nel blog perché potrebbe essere di qualche interesse per un rails-ista alle prime armi.</p>
<h4>Esercizio 0</h4>
<blockquote><p>
Si scriva un template rhtml per visualizzare una tabella di oggetti contenuti nell&#8217;array @objects.  Non sappiamo in anticipo quali saranno tutti gli attributi degli elementi di @objects; sappiamo per certo che ci sarà un attributo &#8220;name&#8221; e un attributo &#8220;image_url&#8221;.  Il nome degli altri attributi si trova nell&#8217;array @other_columns.  Se ad esempio @other_columns contiene [&#8220;foo&#8221;, &#8220;bar&#8221;], la tabella prodotta dovrà contenere le colonne, nell&#8217;ordine: name, image_url, foo, bar.  La colonna image_url deve mostrare un&#8217;immagine.
</p></blockquote>
<p>La tabella del primo esercizio non è difficile da realizzare.  L&#8217;unico punto pochi hanno colto, e nessuno ha risolto correttamente, è che @other_columns contiene nomi di attributi, e quindi non posso estrarre un attributo per nome usando semplicemente una cosa tipo</p>
<pre>
  &lt;% for column in @other_columns %>
    &lt;td>&lt;%= object.column %>&lt;/td>
  &lt;% end %>
</pre>
<p>perché &#8220;column&#8221; è il nome della variabile su cui iteriamo, non è il nome di un metodo di object.  Si può risolvere in Ruby con il metodo &#8220;send&#8221; che usa reflection</p>
<pre>
  &lt;% for column in @other_columns %>
    &lt;td>&lt;%= object.send(column) %>&lt;/td>
  &lt;% end %>
</pre>
<p>(Ad esempio: 3.succ restituisce 4, come anche 3.send(&#8220;succ&#8221;))   Oppure si può usare la hash &#8220;attributes&#8221; di ActiveRecord::Base:</p>
<pre>
  &lt;% for column in @other_columns %>
    &lt;td>&lt;%= object.attributes[column] %>&lt;/td>
  &lt;% end %>
</pre>
<p>Altra cosa: per produrre un elemento &#8220;img&#8221; la cosa migliore è usare lo helper image_tag:</p>
<pre>
  &lt;%= image_tag object.image_url %>
</pre>
<p>piuttosto che </p>
<pre>
  &lt;img src="&lt;%= object.image_url %>" />
</pre>
<h4>Esercizio 2</h4>
<blockquote><p>
        In che cosa consiste il meccanismo della <em>redirezione</em> nel protocollo HTTP?  Come funziona?  Qual&#8217;è l&#8217;uso che se ne fa principalmente in un&#8217;applicazione web?
</p></blockquote>
<p>Come funzionano le redirezioni?  E soprattutto, a che cosa servono in un&#8217;applicazione web?  E&#8217; vero che, come molti hanno fatto notare, servono per ridirigere l&#8217;utente sulla pagina di login quando cerca di accedere a una pagina protetta se l&#8217;utente non è in sessione.  Ma l&#8217;uso più comune è di ridirigere l&#8217;utente su una pagina ottenuta tramite GET dopo che ha modificato una risorsa con una richiesta POST.  Di questa cosa abbiamo ampiamente discusso a lezione.  Infatti il codice dello scaffolding di Rails, che vi consiglio di studiare perché è migliore del codice che molti programmatori Rails principianti scrivono a mano, fa cose di questo tipo:</p>
<pre>
  def create
    @user = User.new(params[:user])
    if @user.save
      flash[:notice] = 'User was successfully created.'
      redirect_to :action => 'list'
    else
      render :action => 'new'
    end
  end
</pre>
<p>Se l&#8217;oggetto @user è stato salvato con successo, l&#8217;utente viene rediretto sulla pagina che lista gli utenti.  Altrimenti l&#8217;utente si ritroverebbe su una pagina ottenuta tramite POST, e quindi non bookmarkabile.  Peggio ancora, se l&#8217;utente facesse un reload della pagina, e ignorasse l&#8217;avvertimento del browser, si ritroverebbe a inserire due volte lo stesso oggetto @user nel database.</p>
<h4>Esercizi 3 e 4</h4>
<blockquote><p>
        In un&#8217;applicazione vogliamo tenere traccia di utenti (<em>User</em>) e ruoli (<em>Role</em>) da essi ricoperti.  Ogni utente può ricoprire un ruolo, ma vogliamo sapere da quando a quando il ruolo è stato ricoperto.  Ciascun ruolo ha un insieme di privilegi, che devono anch&#8217;essi essere rappresentati (come stringhe) nel database.    Disegnare il diagramma entità-relazioni, e il codice sql necessario per implementarlo. (In alternativa a sql scrivere il codice delle migrations.)         </p>
<p>        Nell&#8217;applicazione del punto precedente: scrivere le classi ActiveRecord per tutti i modelli che ritenete necessari, facendo in modo che </p>
<ul>
<li> Il metodo current_role di User restituisca il ruolo correntemente ricoperto da un utente, oppure nil se non ricopre alcun ruolo.  </li>
<li>Il metodo roles di User restituisca tutti i ruoli ricoperti in ordine di tempo</li>
<li>Non sia possibile salvare un utente nel database se non è presente almeno uno fra i seguenti campi: first_name, last_name, nickname.  Deve essere possibile salvare se uno dei tre è compilato ma gli altri no.
</li>
</ul>
</blockquote>
<p>Quasi nessuno dei miei studenti sa usare le relazioni molti-a-molti.  Che vergogna!  E quel che è peggio, molti degli altri non sono in grado nemmeno di mettere in piedi una relazione uno-a-molti.  Doppia vergogna.  Vai a leggere la sezione <em>14.6 Relationships between Tables<br />
</em> del libro di Rails e non farti rivedere fino a quando non hai <em>capito quello che c&#8217;è scritto</em>.</p>
<p>Prima di tutto, è necessario capire come funziona lo schema dei dati.  Dobbiamo leggere con attenzione il tema, per capire quali siano le cardinalità giuste delle relazioni.  Ora, è chiaro che gli utenti e i ruoli sono associati.  Ma un utente, quanti ruoli può avere avuto nella sua vita?  Zero, uno o anche più di uno, quindi &#8220;molti&#8221;!  E un ruolo, da quanti utenti può essere stato ricoperto nel tempo?  Ancora, molti!  Stesso discorso per i privilegi, che possono essere associati a più di un ruolo.  Ad esempio, il privilegio di &#8220;cancellare tutti i file degli utenti&#8221; può essere associato sia al ruolo &#8220;amministratore&#8221; che al ruolo &#8220;boss&#8221;.</p>
<p>Normalmente una relazione molti a molti come questa</p>
<pre>
          *        *
     User ---------- Role
</pre>
<p>viene implementata con una tabella di supporto.</p>
<pre>
   create table roles_users (
     user_id int not null references users(id),
     role_id int not null references roles(id),
     primary key(user_id, role_id)
   )
</pre>
<p>Quei due campi &#8220;user_id&#8221; e &#8220;role_id&#8221; sono chiavi esterne, o foreign keys.  Se non sai di che cosa sto parlando, vuol dire che non capisci <em>nulla</em> di basi di dati.  </p>
<p>Ora, il nostro caso è un po&#8217; più complicato perché l&#8217;assegnamento di un utente a un ruolo ha una data di inizio e una possibile data di fine.  La soluzione canonica è arricchire la tabella di supporto con gli attributi necessari:</p>
<pre>
create table roles_users (
  user_id  int      not null references users(id),
  role_id  int      not null references roles(id),
  start_on datetime not null,
  end_on   datetime null,
  primary key(user_id, role_id)
)
</pre>
<p>Ora questa tabella roles_users comincia ad assomigliare a un&#8217;entità a sè stante.  Si dà il caso che ogni relazione molti-a-molti può essere sempre vista come una coppia di relazioni uno-a-molti; e in questo caso diventa vantaggioso inventarsi un nuovo concetto: la nomina (grant) di un utente in un ruolo.  Un utente ha (avuto) molte nomine, un ruolo è stato assegnato in molte nomine.  Una nomina è di un utente e di un ruolo.</p>
<pre>
        1    *       *   1
   User ------ Grant ----- Role
</pre>
<p>A questo punto, invece di usare il vecchio has_and_belongs_to_many, conviene usare il nuovo has_many :through, che è più in linea con la maniera moderna, <a href="http://tomayko.com/articles/2004/12/12/rest-to-my-wife">REST</a>, di fare codice Rails.</p>
<pre>
  class Grant &lt; ActiveRecord::Base
    belongs_to :user
    belongs_to :role
  end
  
  class User &lt; ActiveRecord::Base
    has_many :grants
    has_many :roles, :through => :grants
  end
  
  class Role &lt; ActiveRecord::Base
    has_many :grants
    has_many :users, :through => :grants
  end
</pre>
<p>L&#8217;unico accorgimento da prendere è di dare una sua propria chiave alla tabella, che non è più una semplice tabella di supporto ma è un&#8217;entità a tutti gli effetti.</p>
<pre>
create table grants (
  id       int      auto_increment,
  user_id  int      not null references users(id),
  role_id  int      not null references roles(id),
  start_on datetime not null,
  end_on   datetime null,
  primary key(id)
)
</pre>
<blockquote><p>
<em>        C&#8217;è un interessante e conciso <a href="http://scottraymond.net/2006/7/20/refactoring-to-rest">articolo di Scott Raymond</a> sui vantaggi di rifattorizzare un&#8217;applicazione Rails per avvantaggiarsi di uno stile rest. (<a href="http://209.85.129.104/search?q=cache:kchrQhsYptwJ:scottraymond.net/2006/7/20/refactoring-to-rest+refactoring+to+rest">cache di google</a>)<br />
</em>
</p></blockquote>
<p>Per quanto riguarda la validazione, basta ricordare che non esistono solo le validazioni prefabbricate come validates_presence_of; si può sempre scrivere una validazione ad hoc, come ad esempio:</p>
<pre>
def validate
  if first_name.blank? and last_name.blank? and nickname.blank?
    errors.add_to_base "inserisci nome, cognome o nickname"
  end
end
</pre>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../76.html#comments">2 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-75"><a href="../../../75.html" rel="bookmark" title="Permanent Link to Busy, busy, busy">Busy, busy, busy</a></h3>
				<small>Monday, February 19th, 2007</small>

				<div class="entry">
					<p>Sono entrato in <a href="http://www.sourcesense.com/">Sourcesense</a>, un&#8217;azienda di cool kids che fornisce sviluppo e consulenza su software open source.  Siamo appena partiti con un nuovo team e un nuovo cliente.  Sviluppiamo un&#8217;applicazione gestionale in Java, e stiamo adottando quanto più XP riusciamo.</p>
<p>Fra poco farò l&#8217;annuncio della nuova edizione di Essap.  Stay tuned!</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../75.html#comments">5 Comments &#187;</a></p>
		</div>

				<div class="post">
				<h3 id="post-74"><a href="../../../74.html" rel="bookmark" title="Permanent Link to Appunti su <em>Domain-Driven Design</em>, di Eric Evans">Appunti su <em>Domain-Driven Design</em>, di Eric Evans</a></h3>
				<small>Tuesday, January 30th, 2007</small>

				<div class="entry">
					<p>Summary: these are notes I write while reading the <a href="http://domaindrivendesign.org/books/index.html">book by Eric Evans</a>.</p>
<p>Pungolato da Gabriele, ho iniziato a leggere <em><a href="http://domaindrivendesign.org/books/index.html">Domain-Driven Design</a></em>.  Questi sono i miei primi appunti.  </p>
<p><strong>Begin by designing the model.</strong> L&#8217;argomento del libro è la progettazione del software, ovvero il design.  Ci sono autori (come DHH in <a href="http://gettingreal.37signals.com/index.php">Getting Real</a>) che sostengono un metodo di progettazione che parte dall&#8217;interfaccia utente, che viene realizzata come una facciata priva di logica, allo scopo di ottenere feedback dall&#8217;utente.  Questo approccio mi pare più adatto a un tipo di applicazioni dove la logica del dominio sia molto semplice, praticamente implicata da quello che si vede nell&#8217;interfaccia utente; molte applicazioni web ricadono in questa categoria.  Un possibile rischio è l&#8217;<a href="http://www.joelonsoftware.com/articles/fog0000000356.html">effetto iceberg</a>, che fa sì che quanto più raffinato è il mock-up dell&#8217;interfaccia utente, <a href="http://headrush.typepad.com/creating_passionate_users/2006/12/dont_make_the_d.html">tanto più irrilevante sarà il feedback</a> che otteniamo mostrandola agli utenti.</p>
<p>Evans invece suggerisce l&#8217;approccio opposto: inizia a progettare la logica del dominio.  Ottieni feedback dall&#8217;utente tramite discussioni di fronte alla lavagna, con sketch di diagrammi di classi, simulando esempi di uso, e <em>dimostrando un prototipo delle classi di dominio</em>, pilotate da un&#8217;interfaccia utente minimale.</p>
<p><strong>Attack domain complexity, not technological complexity.</strong>  Noi sviluppatori abbiamo una naturale tendenza ad innamorarci della tecnologia; divoriamo libri sull&#8217;ultimo framework alla moda per applicazioni web o per interfacciare gli oggetti con i database.  Ma spesso quello che fa la differenza fra successo e fallimento di un progetto è quanto accuratamente gestisce la complessità inerente del dominio.  Dovendo scegliere fra studiare la spec di EJB 3.0 e un libro sulla teoria degli strumenti finanziari derivati, uno sviluppatore probabilmente preferirà la prima.  Occorre frenare questa tendenza, e fare uno sforzo cosciente per imparare quello che serve del dominio applicativo.</p>
<p><strong>Model rhymes with implementation.</strong>  Non bisogna fermarsi allo stadio di diagrammi UML sulla lavagna, o in documenti Visio/Rose/Che-so-io.  Bisogna costruire un&#8217;implementazione, che segue passo passo il lavoro di analisi del dominio.</p>
<p><strong>Develop a common language.</strong>  Il nostro obiettivo è creare un <em>linguaggio ubiquo</em> per parlare del dominio.  Un linguaggio che sia derivato dal gergo del dominio, distillando i concetti che servono e rendendoli più precisi.  Un linguaggio che sia usato a tutti i livelli: nelle conversazioni fra sviluppatori e con gli esperti di dominio, nei diagrammi UML, e nei nomi delle classi e dei metodi.</p>
<p><strong>Pattern language</strong>.  A dieci anni di distanza dal <a href="http://en.wikipedia.org/wiki/Design_patterns">libro della Gang of Four</a>, i pattern restano uno dei veicoli migliori per insegnare design.</p>
<p><strong>XP works best when the developers are design buffs.</strong>  L&#8217;assunzione di XP è che tutto il team faccia design in ogni momento.  Ciò è necessario perché in XP non c&#8217;è nessuno che ti fa piovere il design dall&#8217;alto; e se non si fa design, si scade nel code &amp; fix, che è la triste norma nella nostra industria.  Allora in XP è importante che tutti imparino il più possibile sul design.  Fowler in <a href="http://www.martinfowler.com/books.html#eaa">PEAA</a> parla dell&#8217;importanza di creare un Domain Model (uno dei suoi pattern preferiti.)  Ma non spiega come!  Si limita a dire che in un Domain Model uno può sbizzarrirsi a fare design object-oriented.  Il libro di Evans invece parla <em>solo</em> di come realizzare il domain model.</p>
<p><strong>Domain modelling is not just &#8220;find the nouns.&#8221;</strong>  I sostantivi corrispondono a classi del dominio; ma sono altrettanto importanti le regole del dominio, e le attività che vengono svolte.</p>
<p><strong>Accelerate development.</strong>  L&#8217;obiettivo è arrivare a un punto in cui <em>powerful new features unfold as corollaries to older features</em>.  Il buon design serve a questo, non a soddisfare un astratto desiderio di &#8220;fare ingegneria.&#8221;</p>
				</div>

				<p class="postmetadata">Posted in <a href="../../agile.html" rel="category tag">Agile</a> |   <a href="../../../74.html#comments">3 Comments &#187;</a></p>
		</div>

		
		<div class="navigation">
			<div class="alignleft"><a href="18.html" >&laquo; Previous Entries</a></div>
			<div class="alignright"><a href="16.html" >Next Entries &raquo;</a></div>
		</div>

	  	</div>

  <div id='right-col'>
        <div id="sidebar">
    <ul>

      <li>
        <form method="get" id="searchform" action="http://matteo.vaccari.name/blog/">
  <div>
    <input tabindex="1" type="text" value="" name="s" id="s" />
    <input type="submit" id="searchsubmit" value="Search" />
  </div>
</form>
      </li>

      <li>

        <h2>About</h2>

	I am a software developer working with <a href="http://thoughtworks.com/">Thoughtworks Italia</a>.
        I'm a fan of <a
        href="http://extremeprogramming.org/">Extreme Programming</a>.
        I&nbsp;helped organize the <a
        href="http://essap.dicom.uninsubria.it/">European Summer School on
        Agile Programming</a>

      </li>

      <li>
            <p>You are currently browsing the archives for the Agile category.</p>

            </li>

      <li class="pagenav"><h2>Pages</h2><ul><li class="page_item page-item-851"><a href="../../../../selected-tdd-resources-to-start.html">Selected TDD Resources To Start</a></li>
<li class="page_item page-item-583"><a href="../../../../tdd-resources.html">TDD Resources</a></li>
<li class="page_item page-item-247"><a href="../../../../the-hexagonal-architecture.html">The Hexagonal Architecture</a></li>
</ul></li>

      
      <li><h2>Archives</h2>
        <ul>
        	<li><a href='../../../date/2018/10.html'>October 2018</a></li>
	<li><a href='../../../date/2017/09.html'>September 2017</a></li>
	<li><a href='../../../date/2016/08.html'>August 2016</a></li>
	<li><a href='../../../date/2016/03.html'>March 2016</a></li>
	<li><a href='../../../date/2016/01.html'>January 2016</a></li>
	<li><a href='../../../date/2014/12.html'>December 2014</a></li>
	<li><a href='../../../date/2014/10.html'>October 2014</a></li>
	<li><a href='../../../date/2014/06.html'>June 2014</a></li>
	<li><a href='../../../date/2014/02.html'>February 2014</a></li>
	<li><a href='../../../date/2013/12.html'>December 2013</a></li>
	<li><a href='../../../date/2013/11.html'>November 2013</a></li>
	<li><a href='../../../date/2013/06.html'>June 2013</a></li>
	<li><a href='../../../date/2013/05.html'>May 2013</a></li>
	<li><a href='../../../date/2013/03.html'>March 2013</a></li>
	<li><a href='../../../date/2013/02.html'>February 2013</a></li>
	<li><a href='../../../date/2012/10.html'>October 2012</a></li>
	<li><a href='../../../date/2012/08.html'>August 2012</a></li>
	<li><a href='../../../date/2012/07.html'>July 2012</a></li>
	<li><a href='../../../date/2012/06.html'>June 2012</a></li>
	<li><a href='../../../date/2012/05.html'>May 2012</a></li>
	<li><a href='../../../date/2012/04.html'>April 2012</a></li>
	<li><a href='../../../date/2012/01.html'>January 2012</a></li>
	<li><a href='../../../date/2011/12.html'>December 2011</a></li>
	<li><a href='../../../date/2011/11.html'>November 2011</a></li>
	<li><a href='../../../date/2011/10.html'>October 2011</a></li>
	<li><a href='../../../date/2011/07.html'>July 2011</a></li>
	<li><a href='../../../date/2011/06.html'>June 2011</a></li>
	<li><a href='../../../date/2011/05.html'>May 2011</a></li>
	<li><a href='../../../date/2011/04.html'>April 2011</a></li>
	<li><a href='../../../date/2011/03.html'>March 2011</a></li>
	<li><a href='../../../date/2011/02.html'>February 2011</a></li>
	<li><a href='../../../date/2010/11.html'>November 2010</a></li>
	<li><a href='../../../date/2010/10.html'>October 2010</a></li>
	<li><a href='../../../date/2010/09.html'>September 2010</a></li>
	<li><a href='../../../date/2010/08.html'>August 2010</a></li>
	<li><a href='../../../date/2010/07.html'>July 2010</a></li>
	<li><a href='../../../date/2010/06.html'>June 2010</a></li>
	<li><a href='../../../date/2010/05.html'>May 2010</a></li>
	<li><a href='../../../date/2010/04.html'>April 2010</a></li>
	<li><a href='../../../date/2010/03.html'>March 2010</a></li>
	<li><a href='../../../date/2010/02.html'>February 2010</a></li>
	<li><a href='../../../date/2010/01.html'>January 2010</a></li>
	<li><a href='../../../date/2009/12.html'>December 2009</a></li>
	<li><a href='../../../date/2009/11.html'>November 2009</a></li>
	<li><a href='../../../date/2009/10.html'>October 2009</a></li>
	<li><a href='../../../date/2009/09.html'>September 2009</a></li>
	<li><a href='../../../date/2009/07.html'>July 2009</a></li>
	<li><a href='../../../date/2009/05.html'>May 2009</a></li>
	<li><a href='../../../date/2009/04.html'>April 2009</a></li>
	<li><a href='../../../date/2009/03.html'>March 2009</a></li>
	<li><a href='../../../date/2009/02.html'>February 2009</a></li>
	<li><a href='../../../date/2009/01.html'>January 2009</a></li>
	<li><a href='../../../date/2008/12.html'>December 2008</a></li>
	<li><a href='../../../date/2008/11.html'>November 2008</a></li>
	<li><a href='../../../date/2008/10.html'>October 2008</a></li>
	<li><a href='../../../date/2008/09.html'>September 2008</a></li>
	<li><a href='../../../date/2008/07.html'>July 2008</a></li>
	<li><a href='../../../date/2008/06.html'>June 2008</a></li>
	<li><a href='../../../date/2008/05.html'>May 2008</a></li>
	<li><a href='../../../date/2008/04.html'>April 2008</a></li>
	<li><a href='../../../date/2008/01.html'>January 2008</a></li>
	<li><a href='../../../date/2007/11.html'>November 2007</a></li>
	<li><a href='../../../date/2007/10.html'>October 2007</a></li>
	<li><a href='../../../date/2007/09.html'>September 2007</a></li>
	<li><a href='../../../date/2007/06.html'>June 2007</a></li>
	<li><a href='../../../date/2007/05.html'>May 2007</a></li>
	<li><a href='../../../date/2007/04.html'>April 2007</a></li>
	<li><a href='../../../date/2007/03.html'>March 2007</a></li>
	<li><a href='../../../date/2007/02.html'>February 2007</a></li>
	<li><a href='../../../date/2007/01.html'>January 2007</a></li>
	<li><a href='../../../date/2006/12.html'>December 2006</a></li>
	<li><a href='../../../date/2006/11.html'>November 2006</a></li>
	<li><a href='../../../date/2006/10.html'>October 2006</a></li>
	<li><a href='../../../date/2006/09.html'>September 2006</a></li>
	<li><a href='../../../date/2006/08.html'>August 2006</a></li>
	<li><a href='../../../date/2006/07.html'>July 2006</a></li>
	<li><a href='../../../date/2006/06.html'>June 2006</a></li>
	<li><a href='../../../date/2006/05.html'>May 2006</a></li>
	<li><a href='../../../date/2006/04.html'>April 2006</a></li>
	<li><a href='../../../date/2006/03.html'>March 2006</a></li>
	<li><a href='../../../date/2006/02.html'>February 2006</a></li>
	<li><a href='../../../date/2006/01.html'>January 2006</a></li>
        </ul>
      </li>

      <li><h2>Categories</h2>
        <ul>
        	<li class="cat-item cat-item-1 current-cat"><a href="../../agile.html" >Agile</a> (229)
</li>
	<li class="cat-item cat-item-3"><a href="../../books.html" >Books</a> (2)
</li>
	<li class="cat-item cat-item-11"><a href="../../design-exercise.html" >Design Exercise</a> (5)
</li>
	<li class="cat-item cat-item-6"><a href="../../essay.html" >Essay</a> (13)
</li>
	<li class="cat-item cat-item-8"><a href="../../expressive-code.html" >Expressive Code</a> (11)
</li>
	<li class="cat-item cat-item-10"><a href="../../fundamentals.html" >Fundamentals</a> (6)
</li>
	<li class="cat-item cat-item-9"><a href="../../other.html" >other</a> (1)
</li>
        </ul>
      </li>

      
    </ul>
  </div>

    </div>
  </div>
</div>


<hr />
<div id="footer">
<address>
  <script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%22%3e%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%3c%2f%61%3e%27%29%3b'))</script>
</address>
</div>
</div>
  <script type='text/javascript' src='../../../../wp-includes/js/wp-embed.min3c21.js?ver=5.1.1'></script>
</body>

<!-- Mirrored from matteo.vaccari.name/blog/archives/category/agile/page/17 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:32:07 GMT -->
</html>
