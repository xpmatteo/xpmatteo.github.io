<!DOCTYPE html>
<html>


<!-- Mirrored from matteo.vaccari.name/blog/page/11 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:31:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="initial-scale=1">

<title>Extreme Enthusiasm  </title>

<meta name="generator" content="WordPress 5.1.1" /> <!-- leave this for stats -->

<link rel="stylesheet" href="../wp-content/themes/mv2/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Extreme Enthusiasm RSS Feed" href="../feed" />
<link rel="pingback" href="../xmlrpc.php" />

<link rel='dns-prefetch' href='http://s.w.org/' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/matteo.vaccari.name\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.1"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../wp-includes/css/dist/block-library/style.min3c21.css?ver=5.1.1' type='text/css' media='all' />
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.1.1" />
</head>
<body>
<div id="page">

<div id="header">
	<h1><a href="../../blog">Extreme Enthusiasm</a></h1>
</div>

<div id='maincontent'>
  <p class='mobile-quicklink'><a href="#right-col">Navigation</a></p>
  <div id='main-col'>
  	
  		
  			<div class="post" id="post-266">
  				<h2><a href="../archives/266.html" rel="bookmark" title="Permanent Link to Entity-relationship-oriented programming">Entity-relationship-oriented programming</a></h2>
  				<small>December 10th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>How I agree with Dafydd Rees when <a href="http://www.dafydd.net/blog/entries/20050227.html">he writes</a>:</p>
<blockquote><p>
Most Java and C# programmers have no idea how to do object-oriented programming.</p>
<p>They&#8217;re really doing entity-relationship-oriented programming. Trouble is, they&#8217;re in the majority so they form a self-reinforcing group that take for granted knowledge and skills that they don&#8217;t even realise that they don&#8217;t have.
</p></blockquote>
<p>Aaand&#8230; I&#8217;m afraid I was in the E-R-oriented camp until not long ago.  Now I&#8217;m beginning to see how how objects should work.  </p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/266.html#comments">3 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-242">
  				<h2><a href="../archives/242.html" rel="bookmark" title="Permanent Link to Back from XP Days Benelux, on to XP Days London">Back from XP Days Benelux, on to XP Days London</a></h2>
  				<small>November 29th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Last week I attended the <a href="http://xpday.net/">XP Days Benelux</a>.  It&#8217;s the fourth time I go there, and it&#8217;s been a mild shock to realize how often I was there.  The first time I went there was because I had the pleasure to meet <a href="http://blog.nayima.be/">Pascal</a>, who was kind enough to help us run the first <a href="http://essap.dicom.uninsubria.it/">Essap</a>.  It was a big bet for us to do something as big as a Summer School.  Luckily, we had help from Pascal and <a href="http://cirillosscrapbook.wordpress.com/">Francesco</a>.</p>
<p>I was just starting to get my bearings in the Agile world back in 2006.  Pascal came to Essap and taught us about estimating, planning and executing a plan, with his and <a href="http://www.tryx.com/">Vera</a>&#8216;s ingenious <a href="http://www.xp.be/xpgame.html"> XP Game</a>.   And that was not his only contribution&#8230; he was, like, a *real agilist* who had a long tradition and a strong community behind.  In 2006 we had just started the <a href="http://milano-xpug.pbworks.com/">Milano XP User Group</a>.  It was great to meet someone who had a much bigger experience of working with agility.</p>
<p>There is this peculiar thing about the Benelux Agile community.  They are real cosmopolitans.  They speak English easily, since their countries speak many different languages and they are used to speak English even among themselves.  They really *live* the agile values.  I mean, if you want to succeed with agile, you better start living your life with the agile values.  The organization of the XP Days reflects this.</p>
<p>For instance, it&#8217;s not like in old-school conferences where you send you session proposal and then it&#8217;s either rejected or approved.  At Xp Days you are supposed to send a first draft, then you receive feedback on your proposal, then you improve your proposal with the feedback.  This reflects the value of feedback, and the principle that good things are not done in one shot, but iteratively.</p>
<p>In the room where the plenary sessions were held, the core values of this group of agilists were exposed prominently.  See in the <a href="http://blog.connexxo.com/2009/11/xpdays-benelux---2324112009.html">first picture here</a>, they are those sheets of papers high up to the right of the projector screen.  They are unreadable in the photo, but they were well readable if you were in the room.  They were </p>
<ul>
<li>courage, </li>
<li>openness, </li>
<li>focus, </li>
<li>respect, </li>
<li>committment.</li>
</ul>
<p>One other example of agile values in action is the many forms of feedback that are encouraged.  For every session, you&#8217;re encouraged to write your feedback on a small card for that session.  At the closing of each day, people who attended each sessions are asked to tell everybody what they learned (in 60 seconds!  The timebox is another agile principle.)  When you leave the conference you are asked to write a feedback sheet for the conference in general.  &#8220;Give the gift of feedback&#8221;, is what the organizers say.</p>
<p>So my trail in the world of agile has been very much influenced from the beginning by the Benelux agilists.  It&#8217;s a great trail to be in :-)  Over the years I got to meet many more friends there, and it&#8217;s great to meet new ones every year.  Some, like <a href="http://paircoaching.wordpress.com/">Yves</a>, <a href="http://www.qwan.it/">Marc and Willem</a>, continued Pascal&#8217;s tradition and came to help us organize Essap in 2008.</p>
<p>My and <a href="http://twitter.com/acarpe">Antonio</a>&#8216;s contribution to the XP Days this year was the session on the <a href="../archives/154.html">Birthday Greetings Kata</a>.  Thanks to all participants!  We learned a lot of valuable feedback on how to improve this session, and I&#8217;m ready for the next stop, which will be in <a href="http://www.xpday.org/">London</a>.  </p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/242.html#respond">No Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-237">
  				<h2><a href="../archives/237.html" rel="bookmark" title="Permanent Link to Impara il TDD con il team Orione di Sourcesense">Impara il TDD con il team Orione di Sourcesense</a></h2>
  				<small>November 25th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: my company, Sourcesense, offers a <a href="http://www.sourcesense.com/it/agile/training/">one-day course</a> on TDD</p>
<p>Se ti interessa imparare il Test-Driven Development con sviluppatori che lo usano tutti i giorni, in un corso di una giornata, mani-sulla-tastiera, iscriviti al nostro corso.  E&#8217; il primo corso pubblico che facciamo; prima d&#8217;ora abbiamo sempre fatto corsi in casa dai nostri clienti.  Speriamo di fare un pienone!</p>
<p>Quando: 27 gennaio 2010</p>
<p>Dove: a <a href="http://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=via+venezia+23,+sesto+san+giovanni,+italy&amp;sll=37.0625,-95.677068&amp;sspn=43.307813,61.083984&amp;ie=UTF8&amp;z=16">Sesto San Giovanni, via Venezia 23</a></p>
<p>Quanto costa: &euro; 300,00 più iva; ma puoi spendere solo &euro;&nbsp;200,00 più iva se completi il pagamento entro il 27 dicembre.</p>
<p>Chi lo insegna: io (Matteo Vaccari) più un altro sviluppatore del <a href="http://www.sourcesense.com/it/agile/team">team Orione</a> di Sourcesense.</p>
<p>Tutte le informazioni, e il link per l&#8217;iscrizione, sul sito di Sourcesense:</p>
<p><a href="http://www.sourcesense.com/it/agile/training/">http://www.sourcesense.com/it/agile/training/</a></p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/237.html#respond">No Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-232">
  				<h2><a href="../archives/232.html" rel="bookmark" title="Permanent Link to Back from iad09">Back from iad09</a></h2>
  				<small>November 21st, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>So this was the sixth <a href="http://www.agileday.it/">Italian Agile Day</a>!</p>
<p>It&#8217;s been great to meet old friends, and make new acquaintances too.</p>
<p>Appreciations:</p>
<ul>
<li>Peter Stevens, for sharing insightful tips and tricks on how to succeed with fixed price projects.</li>
<li>Alberto Provaglio, for the interesting insights on system dynamics.
</li>
<li>Jacopo Romei, for the courage of sharing his not-so-successful experiences.
</li>
<li>Gabriele Lana and Simone Genini, for helping me with the <a href="http://www.flickr.com/photos/44900223@N08/4120794452/">coaching workshop</a>.
</li>
<li>Simone Casciaroli, for convincing me to do a workshop instead of my old boring presentation, and working hard at preparing it.  We&#8217;ll do another one some other time!</li>
<li>All the people that attended the workshop.  It&#8217;s been overwhelming.  Thanks for coming and contributing!
</li>
<li>Alberto Brandolini, for teaching me that there&#8217;s a lot more to DDD than I thought.
</li>
<li>Indrit Selimi, for taking the picture at the workshop.</li>
<li>Marco Gulino, for the self-sacrifice of giving up coming to the IAD, getting up at 4 in the morning *and* having to deal with a confrontational situation.</li>
<li>My Sourcesense collegues, for contributing many sessions again in 2009.</li>
<li>Marco Abis and the Bologna XP User Group, for all the work *and* for being great people to hang around with.
</li>
</ul>
<p>Thank you all!  Let&#8217;s do even better next year!</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/232.html#comments">1 Comment &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-224">
  				<h2><a href="../archives/224.html" rel="bookmark" title="Permanent Link to How I setup confluence on Debian">How I setup confluence on Debian</a></h2>
  				<small>November 13th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<style type="text/css" media="screen">
  pre {
    width: 40em;
  }
</style>
<p>Pardon the dreariness of this post. I did this twice in a couple of days.  I thought I might as well write down what I did, to save me time next time.  Let me state first that this is an opinionated install :-)  I don&#8217;t like bloated Tomcat installations with many applications on them.  I prefer to have each application in its own place with its own server.  So I will use the Confluence standalone package, which is integrated with Tomcat.  When I will install Jira on the same box, I will download another standalone package.</p>
<h4>  Preparations </h4>
<p>Connect to your server.  Execute</p>
<pre>  apt-get install apache2 ca-certificates
  apt-get install mysql-server
</pre>
<p>Create file /etc/mysql/conf.d/confluence.cnf with the following contents</p>
<pre>
  [mysqld]
  default-storage-engine=innodb
  lower_case_table_names=1
</pre>
<p>Then restart mysql with</p>
<pre>
  /etc/init.d/mysql restart
</pre>
<p>Edit /etc/apt/sources.list, appending the string &#8221; non-free&#8221; to every line.<br />
Then execute</p>
<pre>
  apt-get install sun-java6-jdk
</pre>
<h4>  Install Confluence </h4>
<p>Download the Confluence standalone package for gnu/linux (not the one for<br />
evaluation)</p>
<pre>
  wget http://www.atlassian.com/software/confluence/downloads/binary/confluence-3.0.2-std.tar.gz
</pre>
<p>Create the directory /opt/confluence. In that directory, expand the confluence<br />
archive. Then create a symlink from /opt/confluence/confluence-app to the<br />
actual directory that contains the confluence application</p>
<pre>
  ln -s /opt/confluence/confluence-3.0.2-std /opt/confluence/confluence-app
</pre>
<p>Then create directory /opt/confluence/confluence-data.</p>
<p>Edit the file confluence/WEB-INF/classes/confluence-init.properties within the<br />
confluence distribution, and add the line</p>
<pre>
  confluence.home=/opt/confluence/confluence-data
</pre>
<p>Edit the file conf/server.xml and change the following:</p>
<ul>
<li> Change 8080 and 8000 to something other than these, which are the default<br />
   Tomcat ports and might be useful some other day.  I use 8180 and 8100.
</li>
<li> In the first Connector element, add the attribute address=&#8221;127.0.0.1&#8243;. This<br />
   will make Tomcat bind to localhost only. I don&#8217;t want to make Tomcat<br />
   directly accessible from the outside.
</li>
<li> In the first Context element, change path=&#8221;&#8221; to path=&#8221;/confluence&#8221;.<br />
   Otherwise I can&#8217;t get the reverse proxy from Apache to work.
</li>
</ul>
<p>Create a file /opt/confluence/startup-confluence.sh with the following contents:</p>
<pre>
  export JAVA_HOME=/usr/lib/jvm/java-6-sun
  su -m www-data -c /opt/confluence/confluence-app/bin/startup.sh
</pre>
<p>Change ownership of the whole /opt/confluence thing to www-data</p>
<pre>
  chown -R www-data.www-data /opt/confluence
  chmod +x /opt/confluence/startup-confluence.sh
</pre>
<p>Download the mysql driver</p>
<pre>
  wget http://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.10.tar.gz/from/http://mirror.switch.ch/ftp/mirror/mysql/
</pre>
<p>Extract the archive, and copy the jar it contains to<br />
/opt/confluence/confluence-app/lib</p>
<p>Create the database and the user for confluence</p>
<pre>
  # mysql -uroot -p
  mysql> create database confluence;
  mysql> grant all on confluence.* to confluence@127.0.0.1 identified by 'secret';
</pre>
<p>Now if you didn&#8217;t do this when first connecting, exit from ssh and reconnect to create a tunnel, to be able to browse Confluence from localhost on the server.  </p>
<pre>
  ssh -L1234:localhost:8180 root@myserver
</pre>
<p>Execute /opt/confluence/startup-confluence.sh, then point the browser to </p>
<pre>
  http://localhost:1234/confluence
</pre>
<p>You should see the confluence configuration screen.  Now just follow the wizard.  Remember to choose &#8220;Custom installation&#8221;, &#8220;External database&#8221;, and &#8220;Mysql&#8221;.</p>
<p>When Confluence is up and running, we still have some things to do.  Let&#8217;s configure Apache to serve Confluence in http://myserver/confluence .  Edit /etc/apache2/site-available/default and add the following lines:</p>
<pre>
  &lt;Location /confluence>
  	Order allow,deny
    Allow from all
  </Location>
  ProxyPass /confluence http://127.0.0.1:8180/confluence
  ProxyPassReverse /confluence http://127.0.0.1:8180/confluence
</pre>
<p>Then execute</p>
<pre>
  a2enmod proxy proxy_http
  /etc/init.d/apache2 reload
</pre>
<p>You should now be able to see Confluence at http://myserver/confluence</p>
<p>Now we must make sure that Confluence will start at system boot. Just call<br />
/opt/confluence/startup-confluence.sh in /etc/rc.local. It&#8217;s simple, and it<br />
works.</p>
<p>You may stop here unless you want to serve Confluence via ssl.  In that case&#8230; let&#8217;s carry on.  Execute </p>
<pre>
  a2ensite default-ssl
  a2enmod ssl
  /etc/init.d/apache2 reload
</pre>
<p>You should be able to access https://myserver/ now.  Now move the proxypass configuration from sites-available/default to sites-available/default-ssl.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/224.html#comments">1 Comment &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-221">
  				<h2><a href="../archives/221.html" rel="bookmark" title="Permanent Link to My impressions of the Emergent Design Workshop">My impressions of the Emergent Design Workshop</a></h2>
  				<small>October 29th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>OK, so I did participate to the <a href="http://www.metodiagili.it/formazione/workshop-design-emergente/index.html" title="metodiagili.it | Workshop Design Emergente | Home">Emergent Design Workshop</a> by <a href="http://cirillosscrapbook.wordpress.com/" title="Cirillo&#039;s Scrapbook">Francesco Cirillo</a>.  This is the second time I attend a workshop with Francesco.  The other one was about coaching and agile process management.  This one is about the technicalities of making the Agile thing work for real in the code.  It&#8217;s never easy to work with Francesco; if you do attend this workshop, be prepared to challenge everything you know. </p>
<p>In my particular case, I knew I didn&#8217;t know object-oriented design well.  OK, I did read about the design patterns, and I did read some of Robert Martin&#8217;s writings, but never got really into this stuff.  Yet somehow, I thought I could get away with not knowing this stuff deeply.  This workshop changed this; now I realize more fully the amount of stuff I didn&#8217;t know, and why it&#8217;s very important for me to learn this. </p>
<p>And,&#8230; even more importantly&#8230; I learned to see why a certain kind of semi-procedural code disguised as object-oriented is not satisfactory; and it&#8217;s not fun.  I gained a new set of eyes and a higher level of criticism for code.  What I learned resonates with what I wrote earlier about &#8220;<a href="../archives/174.html" title="Extreme Enthusiasm  &raquo; Blog Archive   &raquo; TDD is not finished until the code speaks">code that speaks</a>.&#8221;  It turns out I was on the right track there; the goal is to have code like Lego bricks; objects that you can combine together to obtain the desired results.  Code that can withstand changes in specification, without becoming more complex.  Above all, the thing I&#8217;m grateful to Francesco for is, to get back to the fun of working with software like objects.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/221.html#comments">1 Comment &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-215">
  				<h2><a href="../archives/215.html" rel="bookmark" title="Permanent Link to A database for every developer">A database for every developer</a></h2>
  				<small>October 17th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>A database for every developer. No, *two* databases for every developer.</p>
<p>This is a fundamental for project organization that many projects get wrong.  Every development workstation should be equipped with a full local development environment, with a local copy of the database software, and a one-command way to recreate the databases from scratch.</p>
<p>Why *two* databases?  Well, one is for exploratory testing of the application we&#8217;re building.  The other one is for automatic unit tests.</p>
<p>Why *local*?  Because whenever the database server is not local, it becomes difficult to add a new workstation, it&#8217;s impossible to work when you&#8217;re not in the office, and you must depend on other people to fix your database problems.  </p>
<p>The software that we write should *not depend* on the data sources that live outside our development workstation.  To this end it&#8217;s a good start to have simple scripts that allow you to rebuild your database, so that you know you can experiment, change everything, make mistakes, and you&#8217;re still able to get back to a known working situation in a flash.</p>
<p>Why it&#8217;s important that I can rebuild the databases with *one command*?  Because if it takes more than one command, it&#8217;s too complicated and I&#8217;m likely to make mistakes.  Because it&#8217;s too easy to fall in the trap of not knowing exactly which steps are needed to set up a new database instance.  If you have a single script that does the job, that script is also a living, always up-to-date document that describes how to recreate the database from scratch.</p>
<p>The benefits are not just in development; when the time comes to release our software in production, you can see how helpful it is to have a script that is able to set up the database with no effort.  In fact, all database maintenance operations should be automated.  It&#8217;s one of the principles explained so well in <a href="http://www.pragprog.com/titles/tpp/the-pragmatic-programmer" title="The Pragmatic Bookshelf | The Pragmatic Programmer">The Pragmatic Programmer</a>, a very good book.</p>
<p>For example, this is a typical script that I use in my non-Rails projects:</p>
<p><code></p>
<pre style="white-space: pre-wrap">
#!/bin/bash

src=src/main/sql
dbname=myapp_development
dbname_test=myapp_test
dbuser=myapp_user
dbpassword=myapp_password

# Usually no changes needed beyond this point

if [ ! -d "$src" ]; then
  echo "Run this script from the main directory"
  exit 1
fi
read -s -p "mysql root password? (type return for no password) " MYSQL_ROOT_PASSWORD

if [ "$MYSQL_ROOT_PASSWORD" != "" ]; then
    MYSQL_ROOT_PASSWORD=-p$MYSQL_ROOT_PASSWORD
fi

mysqladmin -uroot $MYSQL_ROOT_PASSWORD drop $dbname
mysqladmin -uroot $MYSQL_ROOT_PASSWORD --force drop $dbname_test
mysqladmin -uroot $MYSQL_ROOT_PASSWORD create $dbname
mysqladmin -uroot $MYSQL_ROOT_PASSWORD create $dbname_test
echo "$dbname created"
echo "grant all on $dbname.* to '$dbuser'@localhost identified by '$dbpassword';" \
     | mysql -uroot $MYSQL_ROOT_PASSWORD $dbname
echo "grant all on $dbname_test.* to '$dbuser'@localhost identified by '$dbpassword';" \
     | mysql -uroot $MYSQL_ROOT_PASSWORD $dbname_test
echo "$dbuser authorized"
cat $src/???_*.sql | mysql -u$dbuser -p$dbpassword $dbname 
cat $src/???_*.sql | mysql -u$dbuser -p$dbpassword $dbname_test 
echo "schema loaded"
</pre>
<p></code></p>
<p>This handy little script will create the development and test databases, and load all sql scripts.  I like to name sql scripts like <code>001_create_foobar_table.sql</code> and <code>002_add_frobniz_column_to_foobar.sql</code>, so that they can be loaded in sequence.  It&#8217;s a simple way to develop the database schema incrementally.  I may talk about it in another post.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/fundamentals.html" rel="category tag">Fundamentals</a> |   <a href="../archives/215.html#comments">3 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-204">
  				<h2><a href="../archives/204.html" rel="bookmark" title="Permanent Link to Two floats are never equal">Two floats are never equal</a></h2>
  				<small>October 17th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>While we are on the topic of floating point fundamentals, there is another thing to remember: it is always a mistake to compare two floating-point numbers for equality.  </p>
<p>It all boils down to the simple fact that floating-point arithmetic is not exact.  It is meant for approximate calculations with engineering or scientific measurements, which are inexact to begin with.  In fact, floating-point arithmetics results are almost never equal to the &#8220;true&#8221; value you would get by using exact real arithmetic.</p>
<p>Therefore, wherever you see something like <code>x == 0.0</code>, you can be fairly sure that it&#8217;s a mistake.  Whatever computation produces the value of <code>x</code>, it&#8217;s unlikely to <strong>ever</strong> produce exactly 0.0.  </p>
<p>The proper way to compare floating points is equality within some tolerance.  For instance:</p>
<p><code></p>
<pre>
boolean approximatelyEqual(double a, double b, double epsilon) {
  return Math.abs(a - b) &lt;= epsilon;
}
</pre>
<p></code></p>
<p>The above code works for most applications.  It does not take into account the case that the inputs are NaN or infinities.  I&#8217;m no expert of floating point arithmetic, so I will not give advice about this.  For reference I copy here the following code from JUnit:</p>
<p><code></p>
<pre>
static public void assertEquals(String message, double expected,
    double actual, double delta) {
  if (Double.compare(expected, actual) == 0)
    return;
  if (!(Math.abs(expected - actual) &lt;= delta))
    failNotEquals(message, new Double(expected), new Double(actual));
}  
</pre>
<p></code></p>
<p>The purpose of the <code>compare</code> call is to have the test pass when the two numbers are both NaN.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/fundamentals.html" rel="category tag">Fundamentals</a> |   <a href="../archives/204.html#respond">No Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-197">
  				<h2><a href="../archives/197.html" rel="bookmark" title="Permanent Link to Money is not a float">Money is not a float</a></h2>
  				<small>October 17th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>One suggestion I took to heart is that in order to be great, you need to work on fundamentals.  It&#8217;s no good to be up to date with the latest and greatest, be they Agile techniques or new technologies, if you&#8217;re weak on fundamentals.  </p>
<p>So I&#8217;m starting a collection of fundamentals, that is certainly not going to be comprehensive.  Rather, it&#8217;s a random collection of things that I think are fundamental, yet many experienced developers get wrong.</p>
<p>Let us start with a surprising discovery: did you know that the number 1/10 <em>cannot be represented in a finite way</em> in base 2?  Yep, it turns out that in base 2 the number 1/10 is periodical, much like the number 1/3 has no finite decimal representation in base 10.  But what is the implication for us?</p>
<p>The implication comes when we make the mistake of representing a money in a floating-point number.  Suppose you encode the amount of &#8220;ten cents&#8221; in the floating-point number 0.10.  And now look at this program, and guess what happens when it runs.</p>
<p><code></p>
<pre>
  public class MoneyIsNotAFloat {
    public static void main(String[] args) {
      double tenCents = 0.1;
      double sum = 0.0;
      for (int i=0; i&lt;10; i++) { 
        sum += tenCents;
        System.out.println("0.1 * " + (i+1) + " = " + sum);
      }
    }
  }  
</pre>
<p></code></p>
<p>(Hint: 1.0 times 10 equals&#8230; 0.99999999999999).</p>
<p>And this is not a Java problem.  The same happens with any language, for it&#8217;s a matter of floating point arithmetic.</p>
<p>The simple fact is that floating-point arithmetic is <strong>not exact</strong>, therefore it <em><strong>should not be used for representing money</strong></em>!</p>
<p>What to use then?  One simple solution is to use a plain int to represent an amount of cents.  Integer arithmetic <strong>is</strong> exact.  A 32-bit int should be enough for most applications.  If you&#8217;re worried about overflow, use a BigDecimal type.  Java has one, and most modern languages do too.  (Just a note: if you use a Java BigDecimal, remember that you should not compare them with &#8220;equals&#8221;, you must use &#8220;compare&#8221;.  Go figure.)</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/fundamentals.html" rel="category tag">Fundamentals</a> |   <a href="../archives/197.html#comments">4 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-192">
  				<h2><a href="../archives/192.html" rel="bookmark" title="Permanent Link to Throwing the baby with the bathwater">Throwing the baby with the bathwater</a></h2>
  				<small>October 14th, 2009 <!-- by matteo --></small>

  				<div class="entry">
  					<p>I was talking with a customer recently, who complimented us because the software we are producing is stable.  He also said that one important goal of this project is to write something that is easy to mantain and extend. </p>
<p>At the same time, he was adamant that we should stop doing things like pair programming, and estimating user stories with the whole team, because these things &#8220;slow us down&#8221;.  </p>
<p>Ahem.  If you want good quality code, you better apply these practices, for they are meant for producing quality code.  :-)  Of course we will continue doing all these practices, for we think it&#8217;s best for the project.  </p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/192.html#comments">2 Comments &#187;</a></p>
  			</div>

  		
  		<div class="navigation">
  			<div class="alignleft"><a href="12.html" >&laquo; Previous Entries</a></div>
  			<div class="alignright"><a href="10.html" >Next Entries &raquo;</a></div>
  		</div>

  	  </div>

  <div id='right-col'>
    <p class='mobile-quicklink'><a href="#main-col">Top</a></p>
      <div id="sidebar">
    <ul>

      <li>
        <form method="get" id="searchform" action="http://matteo.vaccari.name/blog/">
  <div>
    <input tabindex="1" type="text" value="" name="s" id="s" />
    <input type="submit" id="searchsubmit" value="Search" />
  </div>
</form>
      </li>

      <li>

        <h2>About</h2>

	I am a software developer working with <a href="http://thoughtworks.com/">Thoughtworks Italia</a>.
        I'm a fan of <a
        href="http://extremeprogramming.org/">Extreme Programming</a>.
        I&nbsp;helped organize the <a
        href="http://essap.dicom.uninsubria.it/">European Summer School on
        Agile Programming</a>

      </li>

      <li>
            </li>

      <li class="pagenav"><h2>Pages</h2><ul><li class="page_item page-item-851"><a href="../selected-tdd-resources-to-start.html">Selected TDD Resources To Start</a></li>
<li class="page_item page-item-583"><a href="../tdd-resources.html">TDD Resources</a></li>
<li class="page_item page-item-247"><a href="../the-hexagonal-architecture.html">The Hexagonal Architecture</a></li>
</ul></li>

      
      <li><h2>Archives</h2>
        <ul>
        	<li><a href='../archives/date/2018/10.html'>October 2018</a></li>
	<li><a href='../archives/date/2017/09.html'>September 2017</a></li>
	<li><a href='../archives/date/2016/08.html'>August 2016</a></li>
	<li><a href='../archives/date/2016/03.html'>March 2016</a></li>
	<li><a href='../archives/date/2016/01.html'>January 2016</a></li>
	<li><a href='../archives/date/2014/12.html'>December 2014</a></li>
	<li><a href='../archives/date/2014/10.html'>October 2014</a></li>
	<li><a href='../archives/date/2014/06.html'>June 2014</a></li>
	<li><a href='../archives/date/2014/02.html'>February 2014</a></li>
	<li><a href='../archives/date/2013/12.html'>December 2013</a></li>
	<li><a href='../archives/date/2013/11.html'>November 2013</a></li>
	<li><a href='../archives/date/2013/06.html'>June 2013</a></li>
	<li><a href='../archives/date/2013/05.html'>May 2013</a></li>
	<li><a href='../archives/date/2013/03.html'>March 2013</a></li>
	<li><a href='../archives/date/2013/02.html'>February 2013</a></li>
	<li><a href='../archives/date/2012/10.html'>October 2012</a></li>
	<li><a href='../archives/date/2012/08.html'>August 2012</a></li>
	<li><a href='../archives/date/2012/07.html'>July 2012</a></li>
	<li><a href='../archives/date/2012/06.html'>June 2012</a></li>
	<li><a href='../archives/date/2012/05.html'>May 2012</a></li>
	<li><a href='../archives/date/2012/04.html'>April 2012</a></li>
	<li><a href='../archives/date/2012/01.html'>January 2012</a></li>
	<li><a href='../archives/date/2011/12.html'>December 2011</a></li>
	<li><a href='../archives/date/2011/11.html'>November 2011</a></li>
	<li><a href='../archives/date/2011/10.html'>October 2011</a></li>
	<li><a href='../archives/date/2011/07.html'>July 2011</a></li>
	<li><a href='../archives/date/2011/06.html'>June 2011</a></li>
	<li><a href='../archives/date/2011/05.html'>May 2011</a></li>
	<li><a href='../archives/date/2011/04.html'>April 2011</a></li>
	<li><a href='../archives/date/2011/03.html'>March 2011</a></li>
	<li><a href='../archives/date/2011/02.html'>February 2011</a></li>
	<li><a href='../archives/date/2010/11.html'>November 2010</a></li>
	<li><a href='../archives/date/2010/10.html'>October 2010</a></li>
	<li><a href='../archives/date/2010/09.html'>September 2010</a></li>
	<li><a href='../archives/date/2010/08.html'>August 2010</a></li>
	<li><a href='../archives/date/2010/07.html'>July 2010</a></li>
	<li><a href='../archives/date/2010/06.html'>June 2010</a></li>
	<li><a href='../archives/date/2010/05.html'>May 2010</a></li>
	<li><a href='../archives/date/2010/04.html'>April 2010</a></li>
	<li><a href='../archives/date/2010/03.html'>March 2010</a></li>
	<li><a href='../archives/date/2010/02.html'>February 2010</a></li>
	<li><a href='../archives/date/2010/01.html'>January 2010</a></li>
	<li><a href='../archives/date/2009/12.html'>December 2009</a></li>
	<li><a href='../archives/date/2009/11.html'>November 2009</a></li>
	<li><a href='../archives/date/2009/10.html'>October 2009</a></li>
	<li><a href='../archives/date/2009/09.html'>September 2009</a></li>
	<li><a href='../archives/date/2009/07.html'>July 2009</a></li>
	<li><a href='../archives/date/2009/05.html'>May 2009</a></li>
	<li><a href='../archives/date/2009/04.html'>April 2009</a></li>
	<li><a href='../archives/date/2009/03.html'>March 2009</a></li>
	<li><a href='../archives/date/2009/02.html'>February 2009</a></li>
	<li><a href='../archives/date/2009/01.html'>January 2009</a></li>
	<li><a href='../archives/date/2008/12.html'>December 2008</a></li>
	<li><a href='../archives/date/2008/11.html'>November 2008</a></li>
	<li><a href='../archives/date/2008/10.html'>October 2008</a></li>
	<li><a href='../archives/date/2008/09.html'>September 2008</a></li>
	<li><a href='../archives/date/2008/07.html'>July 2008</a></li>
	<li><a href='../archives/date/2008/06.html'>June 2008</a></li>
	<li><a href='../archives/date/2008/05.html'>May 2008</a></li>
	<li><a href='../archives/date/2008/04.html'>April 2008</a></li>
	<li><a href='../archives/date/2008/01.html'>January 2008</a></li>
	<li><a href='../archives/date/2007/11.html'>November 2007</a></li>
	<li><a href='../archives/date/2007/10.html'>October 2007</a></li>
	<li><a href='../archives/date/2007/09.html'>September 2007</a></li>
	<li><a href='../archives/date/2007/06.html'>June 2007</a></li>
	<li><a href='../archives/date/2007/05.html'>May 2007</a></li>
	<li><a href='../archives/date/2007/04.html'>April 2007</a></li>
	<li><a href='../archives/date/2007/03.html'>March 2007</a></li>
	<li><a href='../archives/date/2007/02.html'>February 2007</a></li>
	<li><a href='../archives/date/2007/01.html'>January 2007</a></li>
	<li><a href='../archives/date/2006/12.html'>December 2006</a></li>
	<li><a href='../archives/date/2006/11.html'>November 2006</a></li>
	<li><a href='../archives/date/2006/10.html'>October 2006</a></li>
	<li><a href='../archives/date/2006/09.html'>September 2006</a></li>
	<li><a href='../archives/date/2006/08.html'>August 2006</a></li>
	<li><a href='../archives/date/2006/07.html'>July 2006</a></li>
	<li><a href='../archives/date/2006/06.html'>June 2006</a></li>
	<li><a href='../archives/date/2006/05.html'>May 2006</a></li>
	<li><a href='../archives/date/2006/04.html'>April 2006</a></li>
	<li><a href='../archives/date/2006/03.html'>March 2006</a></li>
	<li><a href='../archives/date/2006/02.html'>February 2006</a></li>
	<li><a href='../archives/date/2006/01.html'>January 2006</a></li>
        </ul>
      </li>

      <li><h2>Categories</h2>
        <ul>
        	<li class="cat-item cat-item-1"><a href="../archives/category/agile.html" >Agile</a> (229)
</li>
	<li class="cat-item cat-item-3"><a href="../archives/category/books.html" >Books</a> (2)
</li>
	<li class="cat-item cat-item-11"><a href="../archives/category/design-exercise.html" >Design Exercise</a> (5)
</li>
	<li class="cat-item cat-item-6"><a href="../archives/category/essay.html" >Essay</a> (13)
</li>
	<li class="cat-item cat-item-8"><a href="../archives/category/expressive-code.html" >Expressive Code</a> (11)
</li>
	<li class="cat-item cat-item-10"><a href="../archives/category/fundamentals.html" >Fundamentals</a> (6)
</li>
	<li class="cat-item cat-item-9"><a href="../archives/category/other.html" >other</a> (1)
</li>
        </ul>
      </li>

              <!-- ?php get_links_list(); ? -->

        <li><h2>Misc</h2>
        <ul>
          <li><a href="feed:http://matteo.vaccari.name/blog/feed">Entries (RSS)</a> and <a href="feed:http://matteo.vaccari.name/blog/comments/feed">Comments (RSS)</a></li>
                  </ul>
        </li>
      
    </ul>
  </div>

    <p class='mobile-quicklink'><a href="#main-col">Top</a></p>
  </div>
</div>


<hr />
<div id="footer">
<address>
  <script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%22%3e%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%3c%2f%61%3e%27%29%3b'))</script>
</address>
</div>
</div>
  <script type='text/javascript' src='../wp-includes/js/wp-embed.min3c21.js?ver=5.1.1'></script>
</body>

<!-- Mirrored from matteo.vaccari.name/blog/page/11 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:31:48 GMT -->
</html>
