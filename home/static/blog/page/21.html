<!DOCTYPE html>
<html>


<!-- Mirrored from matteo.vaccari.name/blog/page/21 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:32:11 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="initial-scale=1">

<title>Extreme Enthusiasm  </title>

<meta name="generator" content="WordPress 5.1.1" /> <!-- leave this for stats -->

<link rel="stylesheet" href="../wp-content/themes/mv2/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/rss+xml" title="Extreme Enthusiasm RSS Feed" href="../feed" />
<link rel="pingback" href="../xmlrpc.php" />

<link rel='dns-prefetch' href='http://s.w.org/' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/matteo.vaccari.name\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.1"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../wp-includes/css/dist/block-library/style.min3c21.css?ver=5.1.1' type='text/css' media='all' />
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.1.1" />
</head>
<body>
<div id="page">

<div id="header">
	<h1><a href="../../blog">Extreme Enthusiasm</a></h1>
</div>

<div id='maincontent'>
  <p class='mobile-quicklink'><a href="#right-col">Navigation</a></p>
  <div id='main-col'>
  	
  		
  			<div class="post" id="post-49">
  				<h2><a href="../archives/49.html" rel="bookmark" title="Permanent Link to L&#8217;annuale if-comp è partita">L&#8217;annuale if-comp è partita</a></h2>
  				<small>October 7th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: voting for the interactive-fiction <a href="http://ifcomp.org/">competition</a> has started</p>
<p>Le avventure testuali sono vive e più che mai vitali!  Su http://ifcomp.org/ si possono scaricare i giochi che concorrono all&#8217;undicesima competition annuale.  Se non sai che cosa sia, provane qualcuno e preparati a qualche sorpresa&#8230; se pensavi che le avventure testuali fossero morte e sepolte negli anni ottanta, sbagli!  Sono probabilmente più vive ora di allora.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/49.html#comments">6 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-48">
  				<h2><a href="../archives/48.html" rel="bookmark" title="Permanent Link to Il ritorno del linguaggio naturale: Inform">Il ritorno del linguaggio naturale: Inform</a></h2>
  				<small>October 7th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: natural language processing is coming back, as seen in free-format input in <a href="http://www.google.com/calendar">popular</a> web <a href="http://backpackit.com/calendar">apps</a>, in the <a href="http://www.inform-fiction.org/">Inform</a> programming language, or in the <a href="http://www.rubyonrails.com/">Ruby on Rails</a> framework</p>
<p>Il linguaggio naturale per l&#8217;input è un trend che si comincia a notare: le applicazioni web più cool accettano input in formato naturale.  Google Calendar accetta &#8220;15:00 dentista&#8221; senza bisogno di un box separato per l&#8217;ora e uno per il nome dell&#8217;evento.  Basecamp va oltre (http://backpackit.com/calendar): </p>
<blockquote><p>
  Type like you think:<br />
  &#8220;6pm Dinner&#8221; or &#8220;Doctor Wednesday 3pm&#8221; or &#8220;Call Jim tomorrow&#8221;.
</p></blockquote>
<p>L&#8217;ultima revisione di <a href="http://www.inform-fiction.org/">Inform</a>, il linguaggio per avventure testuali, è radicalmente innovativo rispetto alle versioni precedenti, e anche rispetto a tutti gli altri sistemi analoghi.  </p>
<p>Enfasi data al test: molti autori di <a href="http://en.wikipedia.org/wiki/Interactive_fiction">narrativa interattiva</a> iniziano a lavorare da uno scritto di interazione, da una lista di comandi e risposte che il gioco dovrebbe produrre una volta funzionante.  Inform 7 conserva queste tracce di interazione, e permette di rilevare automaticamente quando il programma da noi realizzato riesce finalmente a rispondere all&#8217;interazione nella maniera desiderata.  Questo riecheggia meravigliosamente con Kent Beck: prima scrivi l&#8217;output atteso, poi modifica il programma fino a che l&#8217;output del programma non sia uguale a quello atteso.</p>
<p>L&#8217;uso del linguaggio naturale per l&#8217;input.  Lo so che questo chiama alla mente obbrobri di linguaggi di programmazione cammuffati da linguaggio naturale, come AppleScript o Cobol.  Ma Inform 7 è un po&#8217; più raffinato di così.  Consideriamo questo frammento da <a href="http://inform-fiction.org/I7Downloads/Examples/rota/source.html">The Reliques of Tolti-Aph</a> di G. Nelson:</p>
<blockquote><p>Chapter 1 &#8211; Fundamentals</p>
<p>  Section 1(a) &#8211; Substance</p>
<p>  A material is a kind of value. The materials are stone, wood, paper, magic-imbued wood, metal, clay, flesh, sustenance and air. A thing has a material. Things are usually stone. People are usually flesh.
</p></blockquote>
<p>Questo è il vero e proprio codice sorgente di un gioco.  E a leggerlo sembra un moderno De Rerum Natura.  &#8220;Things are usually stone. People are usually flesh.&#8221; è poesia.</p>
<p>L&#8217;adozione di uno stile di programmazione &#8220;per relazioni&#8221; piuttosto che ad oggetti.  Da anni tenevo la mia copia del Clocksin &#038; Mellish in cantina e sono andato a riprenderla.  Mi sono ritrovato a pensare al tema del mio esame di Prolog di tanti anni fa.  Siamo abituati a pensare ad oggetti da tanto tempo che ci sembra l&#8217;unica maniera naturale di programmare.  Mi è tornato in mente che la programmazione logica alla Prolog permette di scrivere certi tipi di programmi in maniera estremamente concisa.  E la concisione è potere. </p>
<p>Giocare con I7 mi ha riportato alle radici della fantascienza che amavo da bambino.  Un programma che capisce le mie istruzioni in inglese!  E chi se ne importa se &#8220;capisce&#8221; solo un epsilon della complessità del linguaggio naturale.  E&#8217; più sofisticato di qualsiasi altro sistema abbia mai usato.  E&#8217; sufficiente per scrivere <em>programmi</em>.  Scusate se è poco.</p>
<p>I7 è un domain-specific language per realizzare narrativa interattiva.  Il problema di &#8220;comprendere il linguaggio naturale&#8221;, che è di una complessità tale da sfuggire di gran lunga alle nostre capacità di programmazione, diventa gestibile quando la comprensione viene limitata a un dominio specifico, quale nel nostro caso è la scrittura di avventure testuali.</p>
<p>Mi sono divertito a scrivere codice Inform 7 che fa semplici ragionamenti geometrici</p>
<blockquote><p>
A geometric shape is a kind of thing.</p>
<p>A triangle is a kind of geometric shape.  It has a number called side A. It has a number called side B. It has a number called side C.  After printing the name of a triangle: say &#8220;, with sides ([side A],[side B],[side C])&#8221;. </p>
<p>To decide whether (x &#8211; a number) equals (y &#8211; a number) and (z &#8211; a number):<br />
	if x is y and y is z, decide yes;<br />
	otherwise decide no.</p>
<p>Definition: A triangle is equilateral if its side A equals its side B and its side C.</p>
<p>The blue triangle is a triangle with side A 10, side B 10, and side C 10.</p>
<p>The green triangle is a triangle with side A 5, side B 5, and side C 10.</p>
<p>The pink triangle is a triangle with side A 3, side B 4, and side C 5.</p>
<p>The Geometry lab is a room.  &#8220;You are in a weird lab.&#8221;  The green triangle, the pink triangle and the blue triangle are in the lab.  </p>
<p>A tester is a kind of container.  They are always fixed in place.</p>
<p>The equilateral box is a tester.  It is in the lab.  &#8220;A large box is here; gold letters on it say &#8216;drop equilateral triangles here.'&#8221;</p>
<p>Instead of inserting something (called the supposed equilateral) into the equilateral box:<br />
	if the supposed equilateral is not an equilateral triangle, say &#8220;My, my.  Read again the definition of &#8216;equilateral.'&#8221; instead;<br />
	Increase the score by one;<br />
	move the supposed equilateral to the equilateral box.</p>
<p>To decide whether (x &#8211; a number) equals (y &#8211; a number):<br />
	if x is y, decide yes;<br />
	decide no.</p>
<p>Definition: A triangle is isosceles if its side A equals its side B, or its side B equals its side C, or its side C equals its side A.</p>
<p>The isosceles box is a tester.  It is in the lab.  &#8220;A small box is here; silver letters on it say &#8216;drop isosceles triangles here.'&#8221;</p>
<p>Instead of inserting something (called the object) into the isosceles box:<br />
	if the object is not an isosceles triangle, say &#8220;A mysterious force prevents you from doing that.&#8221; instead;<br />
	Increase the score by one;<br />
	Move the object to the isosceles box.</p>
<p>Instead of taking something which is in a tester, say &#8220;You can&#8217;t reach inside the box.&#8221;. </p>
<p>Test remove with &#8220;put green into isosceles box / get green / get pink&#8221;</p>
<p>To decide what number is the square of (x &#8211; a number): decide on x times x.</p>
<p>To decide what number is the lesser of (x &#8211; a number) and (y &#8211; a number):<br />
	if x is greater than y, decide on y;<br />
	decide on x.</p>
<p>To decide what number is the greater of (x &#8211; a number) and (y &#8211; a number):<br />
	if x is less than y, decide on y;<br />
	decide on x.</p>
<p>To decide what number is the lesser of (x &#8211; a number) and (y &#8211; a number) and (z &#8211; a number):<br />
	let a be the lesser of x and y;<br />
	decide on the lesser of a and z.</p>
<p>To decide what number is the greater of (x &#8211; a number) and (y &#8211; a number) and (z &#8211; a number):<br />
	let a be the greater of x and y;<br />
	decide on the greater of a and z.</p>
<p>To decide what number is the middle value of (x &#8211; a number) and (y &#8211; a number) and (z &#8211; a number):<br />
	let a be the lesser of x and y;<br />
	let b be the lesser of y and z;<br />
	let c be the lesser of x and z;<br />
	decide on the greater of a and b and c.</p>
<p>To decide whether (x &#8211; a number) forms a pythagorean triple with (y &#8211; a number) and (z &#8211; a number):<br />
	let a be the lesser of x and y and z;<br />
	let b be the middle value of x and y and z;<br />
	let c be the greater of x and y and z;<br />
	if the square of a plus the square of b is the square of c, decide yes;<br />
	decide no.</p>
<p>Definition: a triangle is rectangle if its side A forms a pythagorean triple with its side B and its side C.
</p></blockquote>
<p>Mi riesco facilmente a immaginare come la concisione di Inform potrebbe essere catturata in un sistema per la realizzazione di applicazioni gestionali.  </p>
<blockquote><p>  Un impiegato è una persona.  Un impiegato ha una data di nascita, un nome, un cognome, e un numero chiamato salario&#8230;</p>
<p>  Un utente appartiene a molti gruppi.  Un gruppo contiene molti utenti.  Un gruppo ha un insieme di diritti di accesso&#8230;
</p></blockquote>
<p>    Tutti questi esperimenti con la generazione di applicazioni, e la comprensione del linguaggio naturale, sono stati fatti e abbandonati negli anni 80-90.  Andavano sotto il nome di &#8220;linguaggi di quarta generazione&#8221;.  Perché fallirono negli anni 90?  Perché potrebbero avere successo oggi?  Non c&#8217;è una singola ragione precisa.  La ragione c&#8217;è, e dipende da <em>come</em> vengono fatte le cose.  Prima di tutto, potremmo osservare che ci sono centinaia di framework per realizzare applicazioni web, ma solo una manciata sono di qualità paragonabile a Rails.  </p>
<p>Rails mi ha subito colpito per l&#8217;attenzione che dava alla gestione del linguaggio naturale, sia nel presentare output all&#8217;utente (niente &#8220;0 file(s) copied&#8221;!) sia in come appare il sorgente al programmatore.</p>
<blockquote>
<pre>
class User < ActiveRecord::base
  validates_presence_of :name, :address
  validates_uniqueness_of :nickname, :email

  has_many :posts
  has_and_belongs_to_many: groups
end
</pre>
</blockquote>
<p>Definire "has_many :posts" aggiunge alla classe User una serie di metodi: ad esempio "user.posts" che restituisce gli oggetti "post" associati all'utente.  Questo implica che Rails deve sapere che il singolare di "posts" è "post", così che venga usata la classe Post.  Rails è preconfigurato con le regole più comuni della lingua inglese, ma posso benissimo estenderlo con regole aggiuntive.  Per esempio, recentemente ho dovuto scrivere questo, per permettere a Rails di lavorare con un database legacy con i nomi delle tabelle in italiano:</p>
<blockquote>
<pre>
Inflector.inflections do |inflect|
  inflect.irregular 'campagna',   'campagne'
  inflect.irregular 'promotore',  'promotori'
  inflect.irregular 'provincia',  'province'
  inflect.irregular 'regione',    'regioni'
  inflect.irregular 'trattativa', 'trattative'
end
</pre>
</blockquote>
<p>E' stato sufficiente dare a Rails questa lezioncina di italiano per integrare i nomi di tabelle italiani nell'applicazione.  Questo ti dà il senso che programmare bene significa definire un linguaggio. O meglio insegnare alla macchina un linguaggio, che ne estende le capacità.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/48.html#comments">4 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-47">
  				<h2><a href="../archives/47.html" rel="bookmark" title="Permanent Link to Annunciato l&#8217;Agile Day 2006">Annunciato l&#8217;Agile Day 2006</a></h2>
  				<small>October 4th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: the third Italian <a href="http://www.agileday.it/">Agile Day</a> has been announced</p>
<p>Marco Abis ha pubblicato la data per l&#8217;edizione 2006 dell&#8217;<a href="http://www.agileday.it/">Agile Day</a>.  Si svolgerà il primo dicembre.  Mi piacerebbe portare anche quest&#8217;anno una presentazione, ma non so ancora a proposito di che cosa. </p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/47.html#respond">No Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-46">
  				<h2><a href="../archives/46.html" rel="bookmark" title="Permanent Link to Un nuovo XP user group in marcia&#8230;">Un nuovo XP user group in marcia&#8230;</a></h2>
  				<small>October 2nd, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: we have a new XP user group in Varese</p>
<p>Oggi un gruppo di coraggiosi ex-essap si è riunito in un aula dell&#8217;Università dell&#8217;Insubria.  Sono molto contento&#8230; c&#8217;è entusiasmo.  Abbiamo ascoltato una presentazione di Max Pepe, che ci ha raccontato come ha imparato ad amare TDD insieme a Rails.  Abbiamo deciso il nome del gruppo (varese-xpug, con sottotitolo Open Team)  Abbiamo fatto una mappa mentale di Examinando, un&#8217;applicazione che svilupperemo a mo&#8217; di esercitazione.  Prossima riunione fra due settimane.  Yay!</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/46.html#comments">3 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-45">
  				<h2><a href="../archives/45.html" rel="bookmark" title="Permanent Link to Pirati del piffero">Pirati del piffero</a></h2>
  				<small>September 27th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p><em>Summary: &#8220;Pirates of the Caribbean: Dead Man&#8217;s Chest&#8221; sucks.<br />
</em></p>
<p>Ho visto &#8220;I pirati dei Caraibi&#8221;.  Due ore e mezzo in cui praticamente non succede nulla, e il finale in sospeso per aspettare il terzo episodio.  I personaggi, che erano così fighi nel primo film, vengono diluiti, sprecati, buttati via.  Mi sembra molto scarso, anche per la media dei seguiti.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/45.html#comments">3 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-44">
  				<h2><a href="../archives/44.html" rel="bookmark" title="Permanent Link to Misc Rails news">Misc Rails news</a></h2>
  				<small>September 17th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: a few new neat things in the Rails world.  Keep rocking!</p>
<p>E&#8217; appena finita la conferenza europea, e DHH ha già  <a href='http://www.loudthinking.com/arc/000599.html'>bloggato sulle novità</a>.  Un mio cliente è stato là, e non vedo l&#8217;ora di strappargli tutto quello che ha imparato&#8230; (c:</p>
<p>DHH continua sulla sua strada di radicale semplificazione attraverso <a href='http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm'>REST</a>, come aveva già <a href="http://blog.scribestudio.com/articles/2006/07/09/david-heinemeier-hansson-railsconf-2006-keynote-address">mostrato</a> alla conferenza americana.  Ora però c&#8217;è <a href="http://www.matthewman.net/articles/2006/09/04/new-rails-feature-simply_helpful">Simply Helpful</a>, un nuovo stile per le view.  Ho la sensazione che dovremo aspettare un bel pezzo per la seconda edizione di Agile Web Development, dato che DHH continua a riscrivere Rails.  Ma non mi lamento: sono tutte modifiche che vanno nella direzione di semplificare la vita per le cose che si fanno più di frequente!  Non di aggiungere a Rails ogni immaginabile cazzillo.</p>
<p><strong>Capistrano</strong> è stato aggiornato, una novità è una <a href='http://www.ryandaigle.com/articles/2006/09/11/whats-new-in-edge-rails-an-interactive-capistrano-shell'>shell interattiva</a> che ti permette di manipolare interattivamente un insieme di server.</p>
<p>Da un po&#8217; di tempo si sente parlare di Unobtrusive JavaScript; l&#8217;idea è che non è bello vedere codice JS inframmezzato un po&#8217; a casaccio in mezzo all'(X)HTML.  Molto meglio confinare il JS in un singolo file caricato separatamente.  E&#8217; possibile in tale file attaccare comportamenti ai vari elementi della pagina tramite codice che se ne sta comunque confinato nel suo file.  Per lo meno questo è il tipo di approccio preferito dagli <a href='http://alistapart.com/'>assi</a> del web design.  Ora c&#8217;è un <a href='http://www.ujs4rails.com/resources/quickstart-guide'>plugin per Rails</a> che serve a fare proprio questo.</p>
<p><a href="http://unspace.ca/discover/haml">HAML</a> è un nuovo linguaggio di templating per Rails; mentre il linguaggio originale di Rails (RHTML) è semplice e un po&#8217; troppo casereccio per i gusti degli sviluppatori più sofisticati, HAML è, appunto, molto più elegante e sofisticato.</p>
<p>E non ultimo, l&#8217;esplosivo <a href="http://blog.scribestudio.com/articles/2006/07/09/david-heinemeier-hansson-railsconf-2006-keynote-address">Why The Lucky Stiff</a> (autore fra l&#8217;altro di una versione semplificata di Rails che permette di scrivere un&#8217;intera web app in un solo file Ruby) ha parlato di <a href="https://code.whytheluckystiff.net/sandbox/wiki/InstallingTheSandbox">Sandbox</a>, un meccanismo per condividere molte applicazioni Rails su un solo processo di web server (Mongrel, per la precisione).  E questa è musica per le mie orecchie&#8230; manutenere il server per le applicazioni degli studenti è improvvisamente diventato più facile.  </p>
<p>All this coolness, so little time.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/44.html#respond">No Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-43">
  				<h2><a href="../archives/43.html" rel="bookmark" title="Permanent Link to Sudoku anch&#8217;io">Sudoku anch&#8217;io</a></h2>
  				<small>September 1st, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p><em>Summary: last meeting of the Milano XP UG was about TTDing a program to solve Sudoku games.  Pretty good fun.<br />
</em></p>
<p>Non ho mai avuto la pazienza per risolvere i sudoku.  Essendo pigro, scriverò un programma per risolverli&#8230;</p>
<p>L&#8217;ultimo meeting del Milano XP User Group ha avuto come tema &#8220;risolviamo il Sudoku con TDD&#8221;.  Il problema è: dato un sudoku, scrivi un programma che per ogni cella mi dice quali sono i numeri che posso legalmente scriverci dentro.  </p>
<h3>Numeri proibiti</h3>
<p>In coppia con l&#8217;ottimo Roberto Valenti abbiamo affrontato il problema in Ruby.  Abbiamo cominciato decidendo arbitrariamente di rappresentare il tabellone con un singolo array di interi.  E&#8217; la rappresentazione più semplice, e fino a quando non risulterà inadeguata non c&#8217;è bisogno di usarne una più complicata.  YAGNI!</p>
<pre>
TEST_BOARD = [
  0,   1,  2,  3,  4,  5,  6,  7,  8, 
  9,  10, 11, 12, 13, 14, 15, 16, 17, 
  18, 19, 20, 21, 22, 23, 24, 25, 26, 
  27, 28, 29, 30, 31, 32, 33, 34, 35, 
  36, 37, 38, 39, 40, 41, 42, 43, 44, 
  45, 46, 47, 48, 49, 50, 51, 52, 53, 
  54, 55, 56, 57, 58, 59, 60, 61, 62, 
  63, 64, 65, 66, 67, 68, 69, 70, 71, 
  72, 73, 74, 75, 76, 77, 78, 79, 80, 
]
</pre>
<p>(Questa tabella di test è stata generata con un semplice programma.)</p>
<p>Da qualche parte bisogna iniziare.  Abbiamo deciso di iniziare sviluppando metodi per estrarre righe, colonne e quadranti dalla tabella. </p>
<pre>
def test_row_col
  assert_equal [18, 19, 20, 21, 22, 23, 24, 25, 26], row(TEST_BOARD, 2)
  assert_equal [1, 10, 19, 28, 37, 46, 55, 64, 73],  col(TEST_BOARD, 1)
  assert_equal [27, 28, 29, 36, 37, 38, 45, 46, 47], quad(TEST_BOARD, 4, 1)
end
</pre>
<p>Da notare solo che quad(board, r, c) restituisce il quadrante dentro cui cade r, c.  Quindi quad(board, 0, 0) sarà uguale a quad(board, 2, 2) perché entrambi restituiscono il primo quadrante.</p>
<p>A questo punto il problema è già quasi risolto.  È più facile ottenere prima i numeri proibiti.  Prima di tutto, se il tabellone è tutto vuoto, non ci sono vincoli.</p>
<pre>
# rappresentiamo le caselle vuote con 0
EMPTY_BOARD = Array.new(81, 0)
def test_forbidden_numbers_on_empty_board
  assert_equal [], forbidden_numbers(EMPTY_BOARD, 4, 4)
end
</pre>
<p>e la soluzione è facile:</p>
<pre>
def forbidden_numbers(board, r, c)
  []
end
</pre>
<p>Poi testiamo che vengano considerati proibiti i numeri che appaiono nel quadrante.  Inputiamo un sudoku diagonale giusto per testare questo:</p>
<pre>
DIAG_BOARD = [
  1,0,0,0,0,0,0,0,0,
  0,2,0,0,0,0,0,0,0,
  0,0,3,0,0,0,0,0,0,
  0,0,0,4,0,0,0,0,0,
  0,0,0,0,5,0,0,0,0,
  0,0,0,0,0,6,0,0,0,
  0,0,0,0,0,0,7,0,0,
  0,0,0,0,0,0,0,8,0,
  0,0,0,0,0,0,0,0,9,
]
def test_forbidden_numbers_on_quadrant
  assert_equal [1,2,3], forbidden_numbers(DIAG_BOARD, 0, 1)
  assert_equal [7,8,9], forbidden_numbers(DIAG_BOARD, 8, 7)
end
</pre>
<p>e modifichiamo di conseguenza la funzione</p>
<pre>
def forbidden_numbers(board, r, c)
  quad(board, r, c).reject {|x| 0 == x}
end
</pre>
<p>Ora vogliamo tenere conto anche dei numeri che stanno sulle colonne </p>
<pre>
def test_forbidden_numbers_on_columns
  assert_equal [1], forbidden_numbers(DIAG_BOARD, 8, 0)
  assert_equal [6], forbidden_numbers(DIAG_BOARD, 0, 5)
end 
</pre>
<p>E fin qui è facile</p>
<pre>
def forbidden_numbers(board, r, c)
  result = quad(board, r, c) + col(board, c)
  result.reject {|x| 0 == x}
end
</pre>
<p>E così via per le righe</p>
<pre>
def forbidden_numbers(board, r, c)
  result = quad(board, r, c) + col(board, c) + row(board, r)
  result.reject {|x| 0 == x}
end
</pre>
<p>Ora, è facile prevedere problemi nel caso in cui il tabellone non è una diagonale: rischiamo di avere numeri duplicati, e comunque non nell&#8217;ordine crescente che i nostri test si aspettano.  Scriviamo un test che espone un problema, e lo risolviamo in stile Unix, con sort e uniq</p>
<pre>
def forbidden_numbers(board, r, c)
  result = quad(board, r, c) + col(board, c) + row(board, r)
  result = result.reject {|x| 0 == x}
  result.sort
  result.uniq
end
</pre>
<p>I numeri permessi, a questo punto, sono semplicemente il complemento di quelli proibiti.  </p>
<pre>
def possible_numbers(board, r, c)
  complement(forbidden_numbers(board, r, c))
end

def complement(ar)
  universe = [1,2,3,4,5,6,7,8,9]
  universe.reject {|x| ar.member?(x) }
end  
</pre>
<h3>Espiazione</h3>
<p>Avrai notato che fino ad ora abbiamo lavorato in maniera molto poco object-oriented.  Poco male!  Il punto è risolvere il problema nella maniera più semplice possibile.  Però a questo punto il nostro codice comincia ad avere parecchie &#8220;funzioni&#8221; che se ne stanno appese nel vuoto.  E non mi piace il fatto che in parecchi punti dobbiamo convertire le coordinate &#8220;lineari&#8221; della nostra lista in coordinate quadrate (r,c).  </p>
<p>Decidiamo di rifattorizzare il codice per nascondere l&#8217;implementazione della tabella.  Creiamo una classe Board inizializzata da un array</p>
<pre>
class Board
  def initialize(list)
    @list = list.dup
  end
end
</pre>
<p>e passiamo 10 minuti a convertire tutti i nostri test, spostando dentro alla classe i metodi che prima fluttuavano nel vuoto.  Sempre però un test alla volta, spostando solo i metodi necessari, e sempre rieseguendo i test.  Alla fine abbiamo questi test</p>
<pre>
class TestNameOfTestCases &lt; Test::Unit::TestCase  
  def test_board_at
    b = Board.new(SOLVED_BOARD)
    assert_equal b.at(0, 0), 8
    assert_equal b.at(2, 3), 1
  end

  def test_set
    b = Board.new(SOLVED_BOARD)
    b.set(2,3,255)
    assert_equal 255, b.at(2, 3)
  end
  
  def test_board_find_hole
    b = Board.new(SOLVED_BOARD)
    assert_equal nil, b.find_hole
    b.set(1, 2, 0)
    assert_equal [1, 2], b.find_hole
  end

  def test_row_col
    b = Board.new(TEST_BOARD)
    assert_equal [18, 19, 20, 21, 22, 23, 24, 25, 26], b.row(2)
    assert_equal [1, 10, 19, 28, 37, 46, 55, 64, 73],  b.col(1)
    assert_equal [0, 1, 2, 9, 10, 11, 18, 19, 20], b.quad(0, 0)
    assert_equal [0, 1, 2, 9, 10, 11, 18, 19, 20], b.quad(1, 1)
    assert_equal [0, 1, 2, 9, 10, 11, 18, 19, 20], b.quad(2, 2)
    assert_equal [27, 28, 29, 36, 37, 38, 45, 46, 47], b.quad(4, 1)
    assert_equal [30, 31, 32, 39, 40, 41, 48, 49, 50], b.quad(5, 5)
  end
  
  def test_forbidden_numbers_on_quadrant
    assert_equal [], Board.new(EMPTY_BOARD).forbidden_numbers(4, 4)
    assert_equal [1,2,3], Board.new(DIAG_BOARD).forbidden_numbers(0, 1)
  end
  
  def test_forbidden_numbers_on_quad_and_row
    b = Board.new(DIAG_BOARD)
    b.set(0, 4, 4)
    assert_equal [1,2,3,4], b.forbidden_numbers(0, 1)
  end

  def test_forbidden_numbers_on_quad_and_col
    b = Board.new(DIAG_BOARD)
    b.set(4, 0, 5)
    assert_equal [1,2,3,5], b.forbidden_numbers(1, 0)
  end
  
  def test_possible_numbers_on_problem
    b = Board.new(PROBLEM)
    assert_equal [3], b.possible_numbers(0, 1)
  end

  def test_complement
    assert_equal [], Board.complement([1,2,3,4,5,6,7,8,9])
    assert_equal [9], Board.complement([1,2,3,4,5,6,7,8])
    assert_equal [1,4,9], Board.complement([2,3,5,6,7,8])
  end
</pre>
<p>e questo codice </p>
<pre>

class Board
  def initialize(list=nil)
    @list = list.dup
  end
  
  def at(r, c)
    @list[r*9 + c] 
  end
  
  def set(r, c, val)
    @list[r*9 + c] = val
  end

  def forbidden_numbers(r, c)
    result = quad(r, c)
    result += row(r)
    result += col(c)
    result = result.reject { |n| n == 0 }
    result.sort
    result.uniq
  end

  def possible_numbers(r, c)
    Board.complement(forbidden_numbers(r, c))
  end

  def self.complement(ar)
    universe = [1,2,3,4,5,6,7,8,9]
    universe.reject {|x| ar.member?(x) }
  end

  def quad(r, c)
    result = []
    for rr in ((r/3)*3...(r/3)*3+3)
      for cc in ((c/3)*3...(c/3)*3+3)
        result << at(rr, cc)
      end
    end
    result
  end
  
  def row(n)
    @list[n*9...(n+1)*9]
  end

  def col(c)
    (0...9).map {|r| at(r, c)}
  end
  
  def list
    @list
  end
  
private
  def linear_to_r_c(index)
    [index / 9, index % 9]
  end
end
</pre>
<p>Facciamo un test di accettazione: prendiamo un sudoku risolto, e a turno cancelliamo un elemento.  La funzione possible_numbers deve restituire il numero appena tolto.</p>
<pre>
  def test_solved_board
    b = Board.new(SOLVED_BOARD)
    for r in (0...9)
      for c in (0...9)
        element = b.at(r, c)
        b.set(r, c, 0)
        assert_equal [element], b.possible_numbers(r, c)
        b.set(r, c, element)
      end
    end
  end  
</pre>
<p>Funziona!  E' vero che potremmo fare dei test più accurati, ma sono abbastanza confidente che la nostra soluzione sia corretta.  Comunque, se non fossimo al pub alle 8 di sera probabilmente mi metterei il berretto da tester e farei qualche test in più.</p>
<h3>Una volta si chiamava A.I.</h3>
<p>Avevamo ancora un filo di energia, così abbiamo deciso di continuare scrivendo un metodo solve(board) che restituisca un sudoku completato.</p>
<p>In generale, questo tipo di problemi si risolvono per mezzo di <em>ricerca</em>.  Ovvero, non c'è un algoritmo che mi possa dire in un colpo solo qual'è il numero da mettere.  Quasi tutti i puzzle ricadono in questo schema: il problema delle N regine, il problema del 15, il cubo di Rubik...</p>
<p>Abbiamo uno stato iniziale; per ogni stato abbiamo un certo numero di mosse a disposizione.  Risulta un albero di stati.  Le foglie di questo albero sono stati in cui il gioco è risolto (yuppi!), oppure stati in cui il gioco non è risolto e non ci sono altre mosse possibili (buuu).</p>
<p>Il problema allora è esplorare l'albero degli stati in maniera da trovare il prima possibile un nodo-soluzione.  Ci sono due strategie di base, che si applicano a tutti i puzzle.  La strategia <strong>breadth-first</strong>: partendo dalla radice, considero tutti i nodi raggiungibili.  Ho trovato la soluzione?  Se no, per ogni nodo trovato, considero tutti i suoi nodi raggiungibili. Cioè, esamino tutti i nodi di livello 2.  Vado avanti così, esaminando tutti i nodi di livello <em>n</em> fino a che non trovo una soluzione.</p>
<p>Il vantaggio del breadth-first è che trova di sicuro la soluzione più breve.  Lo svantaggio è che rischio di metterci moltissimo tempo a trovarla.</p>
<p>L'altra strategia agnostica è <strong>depth-first</strong>: dalla radice scelgo la prima mossa, poi la prima mossa, e sempre la prima mossa fino a quando non raggiungo una foglia.  Se è un fallimento, torno indietro di *un* passo e esamino la seconda mossa.  Se esaurisco tutte le mosse possibili a quel livello, torno indietro di un altro passo e considero la seconda mossa da lì.</p>
<p>Lo svantaggio del depth-first è che non è garantito che possa mai trovare una soluzione.  Nel caso del sudoku, però, questo non è un problema perché la profondità dell'albero è sempre limitata dal numero di caselle vuote da riempire.   </p>
<p>E' facile implementare una ricerca depth-first, usando una funzione ricorsiva.</p>
<pre>
def solve(prob)
  return prob if prob.solved?
  for move in prob.possible_moves
    try = solve(prob.apply(move))
    # if solved, stop here
    return try if try
  end
  # no more moves
  return false
end
</pre>
<p>Lo stack implicito nella valutazione della funzione ricorsiva mi tiene traccia di a che punto sono nella mia esplorazione dell'albero.</p>
<h3>Risolviamo un gioco completo</h3>
<p>Con questo schema in mente, scriviamo il nostro primo test.  Se il problema è risolto, deve restituire la tabella risolta</p>
<pre>
def test_solve
  assert_equal SOLVED_BOARD, solve(Board.new(SOLVED_BOARD))
end
</pre>
<p>E fin qui è facile.  Poi proviamo a togliere una posizione dal gioco completato, e ci aspettiamo che ritrovi di nuovo la soluzione</p>
<pre>
def test_solve
  b = Board.new(SOLVED_BOARD)
  assert_equal SOLVED_BOARD, solve(b)

  b.set(0,0,0) # metto 0 alla posizione 0,0
  assert_equal SOLVED_BOARD, solve(b)
end  
</pre>
<p>Anche questo si risolve facilmente.  Ci serve una funzione che trovi il primo "buco".  Se il buco non c'è, assumiamo che il gioco sia risolto</p>
<pre>
class Board
  def find_hole
    @list.each_with_index { |e, index|
      return linear_to_r_c(index) if e == 0
    }
    nil
  end
end

def solve(board)
  if !board.find_hole 
    return board.list
  end
  r, c = board.find_hole
  possibles = board.possible_numbers(r, c)
  board.set(r, c, possibles.first)
end
</pre>
<p>Questo però assume che ci sia per forza un numero possibile.  Cosa succede se siamo a un nodo di fallimento?  Lo simuliamo passandogli un sudoku irrisolvibile</p>
<pre>
def test_failure_node
  b = Board.new(SOLVED_BOARD)
  b.set(0, 1, 8 )  # mossa non valida! ma non importa
  b.set(0, 0, 0)   # questo buco ora è irrisolvibile
  assert_equal false, solve(b)
end

def solve(board)
  if !board.find_hole 
    return board.list
  end
  r, c = board.find_hole
  possibles = board.possible_numbers(r, c)
  return false if !possibles
  board.set(r, c, possibles.first)
end
</pre>
<p>A questo punto facciamo emergere la nostra soluzione presentando problemi sempre più difficili.  In realtà essendo un po' stufi abbiamo preso una scorciatoia: abbiamo preso un problema da risolvere completo, e abbiamo implementato direttamente la soluzione ricorsiva.  Con qualche calcio l'abbiamo fatta funzionare:</p>
<pre>
PROBLEM = [
  1, 0, 2, 0, 0, 0, 7, 0, 0,
  0, 4, 7, 0, 2, 1, 3, 0, 0,
  0, 8, 0, 7, 0, 3, 0, 1, 0,
  4, 6, 0, 1, 0, 0, 0, 8, 0,
  0, 0, 0, 2, 6, 4, 0, 0, 0,
  0, 5, 0, 0, 0, 9, 0, 6, 4,
  0, 9, 0, 5, 0, 7, 0, 2, 0,
  0, 0, 1, 3, 4, 0, 9, 7, 0,
  0, 0, 6, 0, 0, 0, 8, 0, 3,
]
def test_solution
  sol = sove(PROBLEM)
  assert sol, "non ha risolto il problema :-("
  do_print sol
end  

def solve(board)
  if !board.find_hole 
    return board.list
  end
  r, c = board.find_hole
  possibles = board.possible_numbers(r, c)
  for p in possibles
    board.set(r, c, p)
    solved = solve(Board.new(board.list))
    return solved if solved
  end
  return false
end
</pre>
<p>Questo problema viene risolto in 0.2 secondi sul mio Mac G4.  Un problema più difficile, a livello <em>evil</em> da www.websudoku.com, viene risolto in 10 secondi.  Sono molto soddisfatto.</p>
<p>Penso che la performance si possa migliorare nettamente, per il caso difficile, modificando semplicemente il metodo find_hole.  Se invece di restituire il primo buco restituisse il buco che è maggiormente vincolato, immagino che taglieremmo di molto il numero di tentativi falliti.  E questo, caro lettore, resta come esercizio...</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/43.html#comments">4 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-42">
  				<h2><a href="../archives/42.html" rel="bookmark" title="Permanent Link to Uploading files to Rails models">Uploading files to Rails models</a></h2>
  				<small>August 29th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p><em>Riassunto: ecco come aggiungere un&#8217;immagine a un modello in una applicazione Rails<br />
</em></p>
<p>Just a summary of what it takes to add an image to a model in a Rails application.  This is to remind myself of the steps it took to make it work.</p>
<p>There are two plugins out there: <a href="http://www.kanthak.net/opensource/file_column/">file_column</a> and acts_as_attachment.  The second is more full-featured, and requires a separate table for each attachment.  So I chose to use the former, for simplicity.  I can always change my mind later.</p>
<p>Using file_column is straightforward, unless you wish to change the default place where image files are saved; in which case you must add options that are not well documented.  The default location is not good, because it chooses a different directory for every model: public/people, public/places, public/foobar, and so on.  This is not good when deploying with capistrano, because you will need to make all of these dirs symbolic links.  Much better to have a single root for all uploads: public/uploads/people, public/uploads/places, &#8230;</p>
<p>Suppose you want to add an &#8220;image&#8221; file attachment to a model &#8220;Foobar&#8221;.  First you must add an &#8220;image&#8221; column to the foobars table:</p>
<pre><code>
  $ script/generate migration AddImageColumnToFoobars
  ...
</code></pre>
<p>edit the migration file</p>
<pre><code>
class AddColumnImageToFoobars &lt; ActiveRecord::Migration
  def self.up
    add_column :foobars, :image, :string
  end

  def self.down
    remove_column :foobars, :image
  end
end
</code></pre>
<p>and execute the migration</p>
<pre><code>
  $ rake migrate
  ...
</code></pre>
<p>Time to do a little functional test.  Open up test/functional/foobar_controller_test.rb and write something like</p>
<pre><code>
  def test_update_image
    post :edit, :id => 2, :foobar => {
      :image => upload(Test::Unit::TestCase.fixture_path 
          + '/files/animal.jpg', 'image/jpg'),
    }
    assert_redirected_to :action => 'page', :name => old_content.name
    updated_foobar = Content.find(2)
    assert_not_nil updated_foobar.image, "what? no image?"
    assert_equal '2/animal.jpg', updated_foobar.image_relative_path
  end
</code></pre>
<p>Run the test.  Does it fail?  Good!  Failure is progress.</p>
<p>Now modify the Foobar model</p>
<pre><code>
class Foobar &lt; ActiveRecord::Base                                                       
  file_column :image, 
    :root_path =&gt; File.join(RAILS_ROOT, "public", "upload"), 
    :web_root =&gt; "upload/"
end
</code></pre>
<p>The :root_path option says we want to save all uploads beneath the &#8220;public/uploads&#8221; directory.  The :web_root is needed so that the proper url for the pictures can be computed.  A bit redundant, but I see how this can be handy for apps that are deployed on multiple servers.</p>
<p>Try the functional test again.  It should work now.</p>
<p>Now modify the views/foobar/_form.html adding</p>
<pre><code>
&lt;%= file_column_field "foobar", "image" %&gt;
</code></pre>
<p>You must also modify the form tag in views/foobar/edit.rhtml and new.rhtml adding multipart encoding, this way:</p>
<pre><code>
&lt;%= form_tag({:action =&gt; 'update', :id =&gt; @foobar}, 
        {:multipart =&gt; true}) %&gt;
</code></pre>
<p>otherwise, upload will not work.</p>
<p>At last, you can show the image in your Foobar pages:</p>
<pre><code>
&lt;%= image_tag url_for_file_column(@foobar, "image") if @foobar.image %&gt;
</code></pre>
<p>The &#8220;if&#8221; part is needed in case no image has been uploaded yet.</p>
<p>The finishing touch is to add validations to the model:</p>
<pre><code>
class Foobar &lt; ActiveRecord::Base                                                       
  file_column :image, 
    :root_path =&gt; File.join(RAILS_ROOT, "public", "upload"), 
    :web_root =&gt; "upload/"

  validates_file_format_of :image, :in => ["gif", "png", "jpg"]
  validates_filesize_of :image, :in => 15.kilobytes..1.megabyte
  validates_image_size :image, :min => "1200x1800"
end
</code></pre>
<h3>Conclusion</h3>
<p>The &#8220;file_column&#8221; plugin is simple and it works beautifully, even if the docs could be better.  Be sure to consult the rdoc within the source files.</p>
<p>If you need to run searches on your uploaded files, such as, for instance, looking for all pictures in &#8220;landscape&#8221; format, then file_column does not help.  The other solution, acts_as_attachment could be the right choice.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/42.html#comments">5 Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-41">
  				<h2><a href="../archives/41.html" rel="bookmark" title="Permanent Link to The Good Life">The Good Life</a></h2>
  				<small>August 24th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p>Summary: <em>The Good Life</em> by Jay McInerney is not one of his &#8220;great&#8221; novels.</p>
<p>Ho appena finito di leggere <em>The Good Life</em> di Jay McInerney.  E&#8217; la storia di <strong>Luke</strong>, un esperto finanziario di Wall Street di grande successo, sposato a <strong>Sasha</strong>, una donna estremamente bella e sofisticata; e di <strong>Corrine</strong>, una autrice di sceneggiature di scarso successo, mamma di due gemelli e sposata a <strong>Russel</strong>, un editore di modesto successo.  </p>
<h3>Riassunto</h3>
<p>Quello che segue è un riassunto senza troppi spoiler.</p>
<p>Luke è in crisi di mezza età, e si è preso un &#8220;sabbatico&#8221; dal suo lavoro per riprendere i contatti con sua moglie e sua figlia Ashley, che a 13 anni è in piena adolescenza e non ne vuole sapere.</p>
<p>Russel è in crisi di mezza età; ha un&#8217;amante che soddisfa i suoi desideri sessuali e per il resto quando è a casa si dedica in parte ai gemelli, ma soprattutto al suo grande hobby, la cucina (immaginatevi che palle.)</p>
<p>Corrine è in crisi perché Russel è distante (a letto legge i manoscritti); perché non riesce a completare la sceneggiatura a cui sta lavorando; perché i gemelli sono nati con la fecondazione artificiale; perché è convinta di essere una cattiva madre&#8230;</p>
<p>La vicenda si svolge a New York dal 10 settembre 2001 fino al Natale dello stesso anno.  Il giorno dell&#8217;attacco aereo Luke si salva per caso.  Incontra Corrine; cominciano a frequentarsi.</p>
<h3>IMHO</h3>
<p>Prima di tutto mettiamo in chiaro che si tratta di un libro di un autore di prima classe.  I personaggi escono fuori dalla pagina, si capisce che l&#8217;autore descrive sempre solo persone che conosce e situazioni che ha vissuto.  Questo per me è importantissimo: scrivere significa <em>avere delle storie da raccontare</em>.</p>
<p>Dieci anni fa, quando lessi <em>The Last of the Savage</em>, continuavo a pensare a quel libro anche dopo mesi che lo avevo finito.  E&#8217; probabilmente uno dei 10 romanzi più belli che ho letto (non che questo significhi gran che) e sicuramente il più bello di McInerney.</p>
<p>Venti anni fa, quando lessi <em>Le mille luci di New York</em> (Bright Lights, Big City) mi fece lo stesso effetto.  Un romanzo perfetto, un colpo di fulmine.  Lo regalai a tutti i miei amici.</p>
<p>Purtroppo questa cadenza di un grande romanzo ogni dieci anni non ha funzionato; almeno per me, il colpo di fulmine con questo romanzo non c&#8217;è stato.  Sarà perché non riuscivo a identificarmi, a &#8220;tifare&#8221; per nessuno dei personaggi?  Ma neanche in <em>The Last of The Savage</em> potevo.  Però in quella storia c&#8217;era un respiro epico che in questo libro non c&#8217;è.  </p>
<p><em>The Good Life</em> ha dei buoni momenti, e dei momenti tediosi.  Fra i momenti migliori c&#8217;è il contrasto fra la New York sofisticata e il Sud rurale degli Stati Uniti (che era un&#8217;elemento chiave di <em>Last of the Savage</em>)  Fra i momenti più noiosi, le conversazioni degli amici sofisticati di Russel e Corrine (fatta eccezione per Washington, che è fichissimo) e gli eventi mondani di Sasha e Luke.</p>
<p>Un osservazione carina la fa Jim Crespi, amico di Russel e regista di Hollywood negli anni &#8217;70: in quegli anni i produttori di Hollywood si resero conto che non erano più capaci di fare i film, e si affidarono a dei giovani (Scorsese, Altman, Coppola, Cimino&#8230;) che ribaltarono il cinema.  Poi un anno vado a vedere &#8220;Pulp Fiction&#8221;, e mi ritrovo a vedere un film dove tutto è fatto per finta, esagerato e ironico.  Mentre il cinema dei &#8217;70 era tutto sull&#8217;onestà e la verità, quello che va adesso è un cinema di strizzate d&#8217;occhio e di scherzi.  (Non ho sottomano il libro, se no metterei la citazione esatta.)  Nel romanzo Jim scompare sotto le torri.</p>
<h3>In conclusione&#8230;</h3>
<p>Se non hai mai letto McInerney, comincia dai due che ho elogiato qui sopra.  Non te ne pentirai.  (Statisticamente, questo autore piace molto di più ai maschi.  Non so perché.)  Se conosci McInerney, questo è un buon libro: ma non è uno dei suoi libri &#8220;A&#8221;.  Mettiamolo insieme ai suoi libri &#8220;B&#8221;, come <em>Riscatto</em> (Ransom) o <em>Tanto per cambiare</em> (The Story of My Life).</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/41.html#respond">No Comments &#187;</a></p>
  			</div>

  		
  			<div class="post" id="post-8">
  				<h2><a href="../archives/8.html" rel="bookmark" title="Permanent Link to Riunione Essapici del 24 luglio">Riunione Essapici del 24 luglio</a></h2>
  				<small>July 26th, 2006 <!-- by matteo --></small>

  				<div class="entry">
  					<p><em>Summary: the Essap people met on July 24 for a Rails workshop and a pizza.  Good fun.</em></p>
<h3>Workshop</h3>
<p><a class="imagelink" href="../wp-content/uploads/2006/07/DSC00140.html" title="DSC00140.JPG"><img id="image40" width="320" height="240" src="../wp-content/uploads/2006/07/DSC00140.html" alt="DSC00140.JPG" /></a></p>
<p>Riunione Essap del 24 luglio.  Ci siamo incontrati alle 15 in un aula dell&#8217;Università dell&#8217;Insubria per un seminario/laboratorio su <a href="http://www.rubyonrails.org/">Rails</a>.  Appena arrivati abbiamo visto che l&#8217;aula non era attrezzata per quello che volevamo fare.  Ma&#8230; si vede che alla Essap i ragazzi hanno imparato bene, perché hanno subito spostato tutte le sedie negli angoli, e portato un tavolone dal corridoio dentro all&#8217;aula.  Così si fa!</p>
<p>L&#8217;obiettivo del seminario era introdurre Rails.  La ragione dietro a Rails è che è troppo noioso sviluppare web app in Java, tanto che alla Essap (e anche al Milano XP-UG) ci siamo impantanati su questioni tecniche noiosissime.  </p>
<p>Argomenti del seminario:</p>
<ol>
<li><strong>Hello World</strong>.  Tutti quanti devono vedere il famoso saluto alla url http://localhost:3000/hello</li>
<li><strong>Simple model</strong>.  Vogliamo creare un entità di dominio <em>User</em>.
<ol>
<li>script/generate model User</li>
<li>crea i database, i permessi di accesso, aggiorna la configurazione di Rails</li>
<li>dimostra i metodi di ActiveRecord::base in console, ovvero interagendo con l&#8217;applicazione dalla riga di comando di Ruby</li>
<li>scrivi semplici unit test (in realtà learning tests) per le varianti di User.find</li>
<li>aggiungi semplici validazioni, in TDD</li>
</ol>
</li>
<li>
     <strong>simple controller</strong>.  Sviluppiamo in TDD un UserController che mostri la lista degli utenti.
   </li>
</ol>
<p>Siamo arrivati fin qui.  Il passo successivo sarebbe stato aggiungere al controller un&#8217;azione per inserire un nuovo utente, il che dimostra il funzionamento delle form.  Sempre in TDD!</p>
<h3>Retrospettiva</h3>
<p>Come sempre abbiamo avuto alcuni problemi.  Avere le macchine correttamente installate è sempre un problema.  La soluzione è arrivare con i kit appositi per Linux (<a href="http://railslivecd.org/">Rails Live</a>), Mac (Locomotive + <a href="http://wiki.awebfactory.com.ar/awebfactory/published/RadRailsTutorials">RadRails</a>) e Windows (InstantRails + RadRails).                           </p>
<p>UPDATE: fornire agli studenti una procedura da eseguire per verificare che sul loro computer sia tutto installato correttamente.  A volte sembra tutto a posto, ma non lo è.</p>
<p>Poi l&#8217;idea di avere un PC per due persone non va bene; nella prima fase gli esercizi sono semplicemente &#8220;fai come ti ho mostrato e fallo funzionare&#8221;,  e non ha molto senso fare pair programming (il navigatore non fa nulla.)  Magari in un corso di più ampio respiro, posso assegnare degli esercizi da fare in un oretta, e lì va bene fare pair.                                              </p>
<p>Inizialmente avevo deciso di spiegare senza pomodoro.  Però abbiamo notato tutti che la cosa funzionava peggio.  Dopo un&#8217;ora ho iniziato a lavorare con il pomodoro, e la cosa ha funzionato molto meglio.  Sono riuscito a fare coincidere con il pomodoro dei &#8220;capitoletti&#8221; di quello che volevo spiegare.  Chissà mai che non sia una buona idea usare il pomodoro anche a lezione?</p>
<p>Renzo mi ha fatto notare che i test con cui ho sviluppato il controller testavano più la vista (con assert_tag) che il controller stesso.  Ha ragione, infatti avrei potuto fare prima dei test più semplici con il controller solo.</p>
<p>Comunque credo di avere mostrato un infarinatura di quello che Rails può fare.  Tutti i partecipanti (tranne quelli senza PC) hanno seguito il codice con me.</p>
<h3>Banchetto :)</h3>
<p>La sera ci siamo spostati al <a href="http://www.ilcircolino.it/">circolino</a> per una pizza, dove ci ha raggiunti il Prof. Lanzarone.  L&#8217;atmosfera di relax ha fatto nascere alcune idee.  </p>
<p>La più carina riguarda il modo di fare proseguire XP all&#8217;Insubria.  Federico ha proposto che gli studenti si organizzino per fare un &#8220;Open Team&#8221; in un giorno, un ora e un aula fissi ogni settimana.  Io potrei sostenerli con una riunione al mese (ma altri XPer sarebbero benvenuti).  L&#8217;idea è che l&#8217;open team sviluppi l&#8217;applicazione proposta durante l&#8217;Essap (un&#8217;app per gestire le prenotazioni delle date degli appelli).  Chiunque si ritrovi di lì ed entri, incuriosito dal cartello &#8220;Open Team&#8221;, può provare a fare pair programming con i ragazzi.  Lanzarone ha dato il suo appoggio all&#8217;iniziativa, anzi ha lamentato che di buone iniziative degli studenti non ce ne sono abbastanza!<br />
Spero proprio che questa cosa si riesca a fare.</p>
<p>UPDATE: si è parlato di dove mettere il server svn per il team.  Una possibilità è di acquistare un minipc da portare in giro, in modo da poter deployare il team in pochissimo tempo.  Sul minipc installiamo la <a href="http://buildix.thoughtworks.com/">buildix</a>, e lo usiamo anche per creare una rete locale wireless.</p>
<p>Si è parlato di fare degli altri seminari su Rails, ma mi pare pleonastico dato che a settembre inizia il mio corso di Applicazioni Web, che parla sempre di Rails.</p>
<p>Dopo la cena, abbiamo passeggiato per le vie della vecchia Varese fino a una remota gelateria.  Torniamo a casa stanchi e contenti.</p>
  				</div>

  				<p class="postmetadata">Posted in <a href="../archives/category/agile.html" rel="category tag">Agile</a> |   <a href="../archives/8.html#comments">4 Comments &#187;</a></p>
  			</div>

  		
  		<div class="navigation">
  			<div class="alignleft"><a href="22.html" >&laquo; Previous Entries</a></div>
  			<div class="alignright"><a href="20.html" >Next Entries &raquo;</a></div>
  		</div>

  	  </div>

  <div id='right-col'>
    <p class='mobile-quicklink'><a href="#main-col">Top</a></p>
      <div id="sidebar">
    <ul>

      <li>
        <form method="get" id="searchform" action="http://matteo.vaccari.name/blog/">
  <div>
    <input tabindex="1" type="text" value="" name="s" id="s" />
    <input type="submit" id="searchsubmit" value="Search" />
  </div>
</form>
      </li>

      <li>

        <h2>About</h2>

	I am a software developer working with <a href="http://thoughtworks.com/">Thoughtworks Italia</a>.
        I'm a fan of <a
        href="http://extremeprogramming.org/">Extreme Programming</a>.
        I&nbsp;helped organize the <a
        href="http://essap.dicom.uninsubria.it/">European Summer School on
        Agile Programming</a>

      </li>

      <li>
            </li>

      <li class="pagenav"><h2>Pages</h2><ul><li class="page_item page-item-851"><a href="../selected-tdd-resources-to-start.html">Selected TDD Resources To Start</a></li>
<li class="page_item page-item-583"><a href="../tdd-resources.html">TDD Resources</a></li>
<li class="page_item page-item-247"><a href="../the-hexagonal-architecture.html">The Hexagonal Architecture</a></li>
</ul></li>

      
      <li><h2>Archives</h2>
        <ul>
        	<li><a href='../archives/date/2018/10.html'>October 2018</a></li>
	<li><a href='../archives/date/2017/09.html'>September 2017</a></li>
	<li><a href='../archives/date/2016/08.html'>August 2016</a></li>
	<li><a href='../archives/date/2016/03.html'>March 2016</a></li>
	<li><a href='../archives/date/2016/01.html'>January 2016</a></li>
	<li><a href='../archives/date/2014/12.html'>December 2014</a></li>
	<li><a href='../archives/date/2014/10.html'>October 2014</a></li>
	<li><a href='../archives/date/2014/06.html'>June 2014</a></li>
	<li><a href='../archives/date/2014/02.html'>February 2014</a></li>
	<li><a href='../archives/date/2013/12.html'>December 2013</a></li>
	<li><a href='../archives/date/2013/11.html'>November 2013</a></li>
	<li><a href='../archives/date/2013/06.html'>June 2013</a></li>
	<li><a href='../archives/date/2013/05.html'>May 2013</a></li>
	<li><a href='../archives/date/2013/03.html'>March 2013</a></li>
	<li><a href='../archives/date/2013/02.html'>February 2013</a></li>
	<li><a href='../archives/date/2012/10.html'>October 2012</a></li>
	<li><a href='../archives/date/2012/08.html'>August 2012</a></li>
	<li><a href='../archives/date/2012/07.html'>July 2012</a></li>
	<li><a href='../archives/date/2012/06.html'>June 2012</a></li>
	<li><a href='../archives/date/2012/05.html'>May 2012</a></li>
	<li><a href='../archives/date/2012/04.html'>April 2012</a></li>
	<li><a href='../archives/date/2012/01.html'>January 2012</a></li>
	<li><a href='../archives/date/2011/12.html'>December 2011</a></li>
	<li><a href='../archives/date/2011/11.html'>November 2011</a></li>
	<li><a href='../archives/date/2011/10.html'>October 2011</a></li>
	<li><a href='../archives/date/2011/07.html'>July 2011</a></li>
	<li><a href='../archives/date/2011/06.html'>June 2011</a></li>
	<li><a href='../archives/date/2011/05.html'>May 2011</a></li>
	<li><a href='../archives/date/2011/04.html'>April 2011</a></li>
	<li><a href='../archives/date/2011/03.html'>March 2011</a></li>
	<li><a href='../archives/date/2011/02.html'>February 2011</a></li>
	<li><a href='../archives/date/2010/11.html'>November 2010</a></li>
	<li><a href='../archives/date/2010/10.html'>October 2010</a></li>
	<li><a href='../archives/date/2010/09.html'>September 2010</a></li>
	<li><a href='../archives/date/2010/08.html'>August 2010</a></li>
	<li><a href='../archives/date/2010/07.html'>July 2010</a></li>
	<li><a href='../archives/date/2010/06.html'>June 2010</a></li>
	<li><a href='../archives/date/2010/05.html'>May 2010</a></li>
	<li><a href='../archives/date/2010/04.html'>April 2010</a></li>
	<li><a href='../archives/date/2010/03.html'>March 2010</a></li>
	<li><a href='../archives/date/2010/02.html'>February 2010</a></li>
	<li><a href='../archives/date/2010/01.html'>January 2010</a></li>
	<li><a href='../archives/date/2009/12.html'>December 2009</a></li>
	<li><a href='../archives/date/2009/11.html'>November 2009</a></li>
	<li><a href='../archives/date/2009/10.html'>October 2009</a></li>
	<li><a href='../archives/date/2009/09.html'>September 2009</a></li>
	<li><a href='../archives/date/2009/07.html'>July 2009</a></li>
	<li><a href='../archives/date/2009/05.html'>May 2009</a></li>
	<li><a href='../archives/date/2009/04.html'>April 2009</a></li>
	<li><a href='../archives/date/2009/03.html'>March 2009</a></li>
	<li><a href='../archives/date/2009/02.html'>February 2009</a></li>
	<li><a href='../archives/date/2009/01.html'>January 2009</a></li>
	<li><a href='../archives/date/2008/12.html'>December 2008</a></li>
	<li><a href='../archives/date/2008/11.html'>November 2008</a></li>
	<li><a href='../archives/date/2008/10.html'>October 2008</a></li>
	<li><a href='../archives/date/2008/09.html'>September 2008</a></li>
	<li><a href='../archives/date/2008/07.html'>July 2008</a></li>
	<li><a href='../archives/date/2008/06.html'>June 2008</a></li>
	<li><a href='../archives/date/2008/05.html'>May 2008</a></li>
	<li><a href='../archives/date/2008/04.html'>April 2008</a></li>
	<li><a href='../archives/date/2008/01.html'>January 2008</a></li>
	<li><a href='../archives/date/2007/11.html'>November 2007</a></li>
	<li><a href='../archives/date/2007/10.html'>October 2007</a></li>
	<li><a href='../archives/date/2007/09.html'>September 2007</a></li>
	<li><a href='../archives/date/2007/06.html'>June 2007</a></li>
	<li><a href='../archives/date/2007/05.html'>May 2007</a></li>
	<li><a href='../archives/date/2007/04.html'>April 2007</a></li>
	<li><a href='../archives/date/2007/03.html'>March 2007</a></li>
	<li><a href='../archives/date/2007/02.html'>February 2007</a></li>
	<li><a href='../archives/date/2007/01.html'>January 2007</a></li>
	<li><a href='../archives/date/2006/12.html'>December 2006</a></li>
	<li><a href='../archives/date/2006/11.html'>November 2006</a></li>
	<li><a href='../archives/date/2006/10.html'>October 2006</a></li>
	<li><a href='../archives/date/2006/09.html'>September 2006</a></li>
	<li><a href='../archives/date/2006/08.html'>August 2006</a></li>
	<li><a href='../archives/date/2006/07.html'>July 2006</a></li>
	<li><a href='../archives/date/2006/06.html'>June 2006</a></li>
	<li><a href='../archives/date/2006/05.html'>May 2006</a></li>
	<li><a href='../archives/date/2006/04.html'>April 2006</a></li>
	<li><a href='../archives/date/2006/03.html'>March 2006</a></li>
	<li><a href='../archives/date/2006/02.html'>February 2006</a></li>
	<li><a href='../archives/date/2006/01.html'>January 2006</a></li>
        </ul>
      </li>

      <li><h2>Categories</h2>
        <ul>
        	<li class="cat-item cat-item-1"><a href="../archives/category/agile.html" >Agile</a> (229)
</li>
	<li class="cat-item cat-item-3"><a href="../archives/category/books.html" >Books</a> (2)
</li>
	<li class="cat-item cat-item-11"><a href="../archives/category/design-exercise.html" >Design Exercise</a> (5)
</li>
	<li class="cat-item cat-item-6"><a href="../archives/category/essay.html" >Essay</a> (13)
</li>
	<li class="cat-item cat-item-8"><a href="../archives/category/expressive-code.html" >Expressive Code</a> (11)
</li>
	<li class="cat-item cat-item-10"><a href="../archives/category/fundamentals.html" >Fundamentals</a> (6)
</li>
	<li class="cat-item cat-item-9"><a href="../archives/category/other.html" >other</a> (1)
</li>
        </ul>
      </li>

              <!-- ?php get_links_list(); ? -->

        <li><h2>Misc</h2>
        <ul>
          <li><a href="feed:http://matteo.vaccari.name/blog/feed">Entries (RSS)</a> and <a href="feed:http://matteo.vaccari.name/blog/comments/feed">Comments (RSS)</a></li>
                  </ul>
        </li>
      
    </ul>
  </div>

    <p class='mobile-quicklink'><a href="#main-col">Top</a></p>
  </div>
</div>


<hr />
<div id="footer">
<address>
  <script type="text/javascript">eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%22%3e%76%61%63%63%61%72%69%40%70%6f%62%6f%78%2e%63%6f%6d%3c%2f%61%3e%27%29%3b'))</script>
</address>
</div>
</div>
  <script type='text/javascript' src='../wp-includes/js/wp-embed.min3c21.js?ver=5.1.1'></script>
</body>

<!-- Mirrored from matteo.vaccari.name/blog/page/21 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 24 Sep 2021 10:32:12 GMT -->
</html>
